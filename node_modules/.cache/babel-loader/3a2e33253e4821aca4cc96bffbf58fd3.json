{"ast":null,"code":"import _classCallCheck from \"C:/Users/yungc/yungchuchuang.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/yungc/yungchuchuang.github.io/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/Users/yungc/yungchuchuang.github.io/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/yungc/yungchuchuang.github.io/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _objectSpread from \"C:/Users/yungc/yungchuchuang.github.io/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport React from 'react';\nvar matchIconName = /^[a-z0-9]+(-[a-z0-9]+)*$/;\n\nvar stringToIcon = function stringToIcon(value, validate, allowSimpleName) {\n  var provider = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"\";\n  var colonSeparated = value.split(\":\");\n\n  if (value.slice(0, 1) === \"@\") {\n    if (colonSeparated.length < 2 || colonSeparated.length > 3) {\n      return null;\n    }\n\n    provider = colonSeparated.shift().slice(1);\n  }\n\n  if (colonSeparated.length > 3 || !colonSeparated.length) {\n    return null;\n  }\n\n  if (colonSeparated.length > 1) {\n    var name2 = colonSeparated.pop();\n    var prefix = colonSeparated.pop();\n    var result = {\n      provider: colonSeparated.length > 0 ? colonSeparated[0] : provider,\n      prefix: prefix,\n      name: name2\n    };\n    return validate && !validateIconName(result) ? null : result;\n  }\n\n  var name = colonSeparated[0];\n  var dashSeparated = name.split(\"-\");\n\n  if (dashSeparated.length > 1) {\n    var _result = {\n      provider: provider,\n      prefix: dashSeparated.shift(),\n      name: dashSeparated.join(\"-\")\n    };\n    return validate && !validateIconName(_result) ? null : _result;\n  }\n\n  if (allowSimpleName && provider === \"\") {\n    var _result2 = {\n      provider: provider,\n      prefix: \"\",\n      name: name\n    };\n    return validate && !validateIconName(_result2, allowSimpleName) ? null : _result2;\n  }\n\n  return null;\n};\n\nvar validateIconName = function validateIconName(icon, allowSimpleName) {\n  if (!icon) {\n    return false;\n  }\n\n  return !!((icon.provider === \"\" || icon.provider.match(matchIconName)) && (allowSimpleName && icon.prefix === \"\" || icon.prefix.match(matchIconName)) && icon.name.match(matchIconName));\n};\n\nvar defaultIconDimensions = Object.freeze({\n  left: 0,\n  top: 0,\n  width: 16,\n  height: 16\n});\nvar defaultIconTransformations = Object.freeze({\n  rotate: 0,\n  vFlip: false,\n  hFlip: false\n});\nvar defaultIconProps = Object.freeze(_objectSpread(_objectSpread({}, defaultIconDimensions), defaultIconTransformations));\nvar defaultExtendedIconProps = Object.freeze(_objectSpread(_objectSpread({}, defaultIconProps), {}, {\n  body: \"\",\n  hidden: false\n}));\n\nfunction mergeIconTransformations(obj1, obj2) {\n  var result = {};\n\n  if (!obj1.hFlip !== !obj2.hFlip) {\n    result.hFlip = true;\n  }\n\n  if (!obj1.vFlip !== !obj2.vFlip) {\n    result.vFlip = true;\n  }\n\n  var rotate = ((obj1.rotate || 0) + (obj2.rotate || 0)) % 4;\n\n  if (rotate) {\n    result.rotate = rotate;\n  }\n\n  return result;\n}\n\nfunction mergeIconData(parent, child) {\n  var result = mergeIconTransformations(parent, child);\n\n  for (var key in defaultExtendedIconProps) {\n    if (key in defaultIconTransformations) {\n      if (key in parent && !(key in result)) {\n        result[key] = defaultIconTransformations[key];\n      }\n    } else if (key in child) {\n      result[key] = child[key];\n    } else if (key in parent) {\n      result[key] = parent[key];\n    }\n  }\n\n  return result;\n}\n\nfunction getIconsTree(data, names) {\n  var icons = data.icons;\n  var aliases = data.aliases || {};\n  var resolved = /* @__PURE__ */Object.create(null);\n\n  function resolve(name) {\n    if (icons[name]) {\n      return resolved[name] = [];\n    }\n\n    if (!(name in resolved)) {\n      resolved[name] = null;\n      var parent = aliases[name] && aliases[name].parent;\n      var value = parent && resolve(parent);\n\n      if (value) {\n        resolved[name] = [parent].concat(value);\n      }\n    }\n\n    return resolved[name];\n  }\n\n  (names || Object.keys(icons).concat(Object.keys(aliases))).forEach(resolve);\n  return resolved;\n}\n\nfunction internalGetIconData(data, name, tree) {\n  var icons = data.icons;\n  var aliases = data.aliases || {};\n  var currentProps = {};\n\n  function parse(name2) {\n    currentProps = mergeIconData(icons[name2] || aliases[name2], currentProps);\n  }\n\n  parse(name);\n  tree.forEach(parse);\n  return mergeIconData(data, currentProps);\n}\n\nfunction parseIconSet(data, callback) {\n  var names = [];\n\n  if (typeof data !== \"object\" || typeof data.icons !== \"object\") {\n    return names;\n  }\n\n  if (data.not_found instanceof Array) {\n    data.not_found.forEach(function (name) {\n      callback(name, null);\n      names.push(name);\n    });\n  }\n\n  var tree = getIconsTree(data);\n\n  for (var name in tree) {\n    var item = tree[name];\n\n    if (item) {\n      callback(name, internalGetIconData(data, name, item));\n      names.push(name);\n    }\n  }\n\n  return names;\n}\n\nvar optionalPropertyDefaults = _objectSpread({\n  provider: \"\",\n  aliases: {},\n  not_found: {}\n}, defaultIconDimensions);\n\nfunction checkOptionalProps(item, defaults) {\n  for (var prop in defaults) {\n    if (prop in item && typeof item[prop] !== typeof defaults[prop]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction quicklyValidateIconSet(obj) {\n  if (typeof obj !== \"object\" || obj === null) {\n    return null;\n  }\n\n  var data = obj;\n\n  if (typeof data.prefix !== \"string\" || !obj.icons || typeof obj.icons !== \"object\") {\n    return null;\n  }\n\n  if (!checkOptionalProps(obj, optionalPropertyDefaults)) {\n    return null;\n  }\n\n  var icons = data.icons;\n\n  for (var name in icons) {\n    var icon = icons[name];\n\n    if (!name.match(matchIconName) || typeof icon.body !== \"string\" || !checkOptionalProps(icon, defaultExtendedIconProps)) {\n      return null;\n    }\n  }\n\n  var aliases = data.aliases || {};\n\n  for (var _name in aliases) {\n    var _icon = aliases[_name];\n    var parent = _icon.parent;\n\n    if (!_name.match(matchIconName) || typeof parent !== \"string\" || !icons[parent] && !aliases[parent] || !checkOptionalProps(_icon, defaultExtendedIconProps)) {\n      return null;\n    }\n  }\n\n  return data;\n}\n\nvar dataStorage = /* @__PURE__ */Object.create(null);\n\nfunction newStorage(provider, prefix) {\n  return {\n    provider: provider,\n    prefix: prefix,\n    icons: /* @__PURE__ */Object.create(null),\n    missing: /* @__PURE__ */new Set()\n  };\n}\n\nfunction getStorage(provider, prefix) {\n  var providerStorage = dataStorage[provider] || (dataStorage[provider] = /* @__PURE__ */Object.create(null));\n  return providerStorage[prefix] || (providerStorage[prefix] = newStorage(provider, prefix));\n}\n\nfunction addIconSet(storage, data) {\n  if (!quicklyValidateIconSet(data)) {\n    return [];\n  }\n\n  return parseIconSet(data, function (name, icon) {\n    if (icon) {\n      storage.icons[name] = icon;\n    } else {\n      storage.missing.add(name);\n    }\n  });\n}\n\nfunction addIconToStorage(storage, name, icon) {\n  try {\n    if (typeof icon.body === \"string\") {\n      storage.icons[name] = _objectSpread({}, icon);\n      return true;\n    }\n  } catch (err) {}\n\n  return false;\n}\n\nfunction listIcons(provider, prefix) {\n  var allIcons = [];\n  var providers = typeof provider === \"string\" ? [provider] : Object.keys(dataStorage);\n  providers.forEach(function (provider2) {\n    var prefixes = typeof provider2 === \"string\" && typeof prefix === \"string\" ? [prefix] : Object.keys(dataStorage[provider2] || {});\n    prefixes.forEach(function (prefix2) {\n      var storage = getStorage(provider2, prefix2);\n      allIcons = allIcons.concat(Object.keys(storage.icons).map(function (name) {\n        return (provider2 !== \"\" ? \"@\" + provider2 + \":\" : \"\") + prefix2 + \":\" + name;\n      }));\n    });\n  });\n  return allIcons;\n}\n\nvar simpleNames = false;\n\nfunction allowSimpleNames(allow) {\n  if (typeof allow === \"boolean\") {\n    simpleNames = allow;\n  }\n\n  return simpleNames;\n}\n\nfunction getIconData(name) {\n  var icon = typeof name === \"string\" ? stringToIcon(name, true, simpleNames) : name;\n\n  if (icon) {\n    var _storage = getStorage(icon.provider, icon.prefix);\n\n    var iconName = icon.name;\n    return _storage.icons[iconName] || (_storage.missing.has(iconName) ? null : void 0);\n  }\n}\n\nfunction addIcon(name, data) {\n  var icon = stringToIcon(name, true, simpleNames);\n\n  if (!icon) {\n    return false;\n  }\n\n  var storage = getStorage(icon.provider, icon.prefix);\n  return addIconToStorage(storage, icon.name, data);\n}\n\nfunction addCollection(data, provider) {\n  if (typeof data !== \"object\") {\n    return false;\n  }\n\n  if (typeof provider !== \"string\") {\n    provider = data.provider || \"\";\n  }\n\n  if (simpleNames && !provider && !data.prefix) {\n    var added = false;\n\n    if (quicklyValidateIconSet(data)) {\n      data.prefix = \"\";\n      parseIconSet(data, function (name, icon) {\n        if (icon && addIcon(name, icon)) {\n          added = true;\n        }\n      });\n    }\n\n    return added;\n  }\n\n  var prefix = data.prefix;\n\n  if (!validateIconName({\n    provider: provider,\n    prefix: prefix,\n    name: \"a\"\n  })) {\n    return false;\n  }\n\n  var storage = getStorage(provider, prefix);\n  return !!addIconSet(storage, data);\n}\n\nfunction iconExists(name) {\n  return !!getIconData(name);\n}\n\nfunction getIcon(name) {\n  var result = getIconData(name);\n  return result ? _objectSpread(_objectSpread({}, defaultIconProps), result) : null;\n}\n\nvar defaultIconSizeCustomisations = Object.freeze({\n  width: null,\n  height: null\n});\nvar defaultIconCustomisations = Object.freeze(_objectSpread(_objectSpread({}, defaultIconSizeCustomisations), defaultIconTransformations));\nvar unitsSplit = /(-?[0-9.]*[0-9]+[0-9.]*)/g;\nvar unitsTest = /^-?[0-9.]*[0-9]+[0-9.]*$/g;\n\nfunction calculateSize(size, ratio, precision) {\n  if (ratio === 1) {\n    return size;\n  }\n\n  precision = precision || 100;\n\n  if (typeof size === \"number\") {\n    return Math.ceil(size * ratio * precision) / precision;\n  }\n\n  if (typeof size !== \"string\") {\n    return size;\n  }\n\n  var oldParts = size.split(unitsSplit);\n\n  if (oldParts === null || !oldParts.length) {\n    return size;\n  }\n\n  var newParts = [];\n  var code = oldParts.shift();\n  var isNumber = unitsTest.test(code);\n\n  while (true) {\n    if (isNumber) {\n      var num = parseFloat(code);\n\n      if (isNaN(num)) {\n        newParts.push(code);\n      } else {\n        newParts.push(Math.ceil(num * ratio * precision) / precision);\n      }\n    } else {\n      newParts.push(code);\n    }\n\n    code = oldParts.shift();\n\n    if (code === void 0) {\n      return newParts.join(\"\");\n    }\n\n    isNumber = !isNumber;\n  }\n}\n\nfunction iconToSVG(icon, customisations) {\n  var fullIcon = _objectSpread(_objectSpread({}, defaultIconProps), icon);\n\n  var fullCustomisations = _objectSpread(_objectSpread({}, defaultIconCustomisations), customisations);\n\n  var box = {\n    left: fullIcon.left,\n    top: fullIcon.top,\n    width: fullIcon.width,\n    height: fullIcon.height\n  };\n  var body = fullIcon.body;\n  [fullIcon, fullCustomisations].forEach(function (props) {\n    var transformations = [];\n    var hFlip = props.hFlip;\n    var vFlip = props.vFlip;\n    var rotation = props.rotate;\n\n    if (hFlip) {\n      if (vFlip) {\n        rotation += 2;\n      } else {\n        transformations.push(\"translate(\" + (box.width + box.left).toString() + \" \" + (0 - box.top).toString() + \")\");\n        transformations.push(\"scale(-1 1)\");\n        box.top = box.left = 0;\n      }\n    } else if (vFlip) {\n      transformations.push(\"translate(\" + (0 - box.left).toString() + \" \" + (box.height + box.top).toString() + \")\");\n      transformations.push(\"scale(1 -1)\");\n      box.top = box.left = 0;\n    }\n\n    var tempValue;\n\n    if (rotation < 0) {\n      rotation -= Math.floor(rotation / 4) * 4;\n    }\n\n    rotation = rotation % 4;\n\n    switch (rotation) {\n      case 1:\n        tempValue = box.height / 2 + box.top;\n        transformations.unshift(\"rotate(90 \" + tempValue.toString() + \" \" + tempValue.toString() + \")\");\n        break;\n\n      case 2:\n        transformations.unshift(\"rotate(180 \" + (box.width / 2 + box.left).toString() + \" \" + (box.height / 2 + box.top).toString() + \")\");\n        break;\n\n      case 3:\n        tempValue = box.width / 2 + box.left;\n        transformations.unshift(\"rotate(-90 \" + tempValue.toString() + \" \" + tempValue.toString() + \")\");\n        break;\n    }\n\n    if (rotation % 2 === 1) {\n      if (box.left !== box.top) {\n        tempValue = box.left;\n        box.left = box.top;\n        box.top = tempValue;\n      }\n\n      if (box.width !== box.height) {\n        tempValue = box.width;\n        box.width = box.height;\n        box.height = tempValue;\n      }\n    }\n\n    if (transformations.length) {\n      body = '<g transform=\"' + transformations.join(\" \") + '\">' + body + \"</g>\";\n    }\n  });\n  var customisationsWidth = fullCustomisations.width;\n  var customisationsHeight = fullCustomisations.height;\n  var boxWidth = box.width;\n  var boxHeight = box.height;\n  var width;\n  var height;\n\n  if (customisationsWidth === null) {\n    height = customisationsHeight === null ? \"1em\" : customisationsHeight === \"auto\" ? boxHeight : customisationsHeight;\n    width = calculateSize(height, boxWidth / boxHeight);\n  } else {\n    width = customisationsWidth === \"auto\" ? boxWidth : customisationsWidth;\n    height = customisationsHeight === null ? calculateSize(width, boxHeight / boxWidth) : customisationsHeight === \"auto\" ? boxHeight : customisationsHeight;\n  }\n\n  var result = {\n    attributes: {\n      width: width.toString(),\n      height: height.toString(),\n      viewBox: box.left.toString() + \" \" + box.top.toString() + \" \" + boxWidth.toString() + \" \" + boxHeight.toString()\n    },\n    body: body\n  };\n  return result;\n}\n\nvar regex = /\\sid=\"(\\S+)\"/g;\nvar randomPrefix = \"IconifyId\" + Date.now().toString(16) + (Math.random() * 16777216 | 0).toString(16);\nvar counter = 0;\n\nfunction replaceIDs(body) {\n  var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : randomPrefix;\n  var ids = [];\n  var match;\n\n  while (match = regex.exec(body)) {\n    ids.push(match[1]);\n  }\n\n  if (!ids.length) {\n    return body;\n  }\n\n  ids.forEach(function (id) {\n    var newID = typeof prefix === \"function\" ? prefix(id) : prefix + (counter++).toString();\n    var escapedID = id.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n    body = body.replace(new RegExp('([#;\"])(' + escapedID + ')([\")]|\\\\.[a-z])', \"g\"), \"$1\" + newID + \"$3\");\n  });\n  return body;\n}\n\nvar storage = /* @__PURE__ */Object.create(null);\n\nfunction setAPIModule(provider, item) {\n  storage[provider] = item;\n}\n\nfunction getAPIModule(provider) {\n  return storage[provider] || storage[\"\"];\n}\n\nfunction createAPIConfig(source) {\n  var resources;\n\n  if (typeof source.resources === \"string\") {\n    resources = [source.resources];\n  } else {\n    resources = source.resources;\n\n    if (!(resources instanceof Array) || !resources.length) {\n      return null;\n    }\n  }\n\n  var result = {\n    resources: resources,\n    path: source.path || \"/\",\n    maxURL: source.maxURL || 500,\n    rotate: source.rotate || 750,\n    timeout: source.timeout || 5e3,\n    random: source.random === true,\n    index: source.index || 0,\n    dataAfterTimeout: source.dataAfterTimeout !== false\n  };\n  return result;\n}\n\nvar configStorage = /* @__PURE__ */Object.create(null);\nvar fallBackAPISources = [\"https://api.simplesvg.com\", \"https://api.unisvg.com\"];\nvar fallBackAPI = [];\n\nwhile (fallBackAPISources.length > 0) {\n  if (fallBackAPISources.length === 1) {\n    fallBackAPI.push(fallBackAPISources.shift());\n  } else {\n    if (Math.random() > 0.5) {\n      fallBackAPI.push(fallBackAPISources.shift());\n    } else {\n      fallBackAPI.push(fallBackAPISources.pop());\n    }\n  }\n}\n\nconfigStorage[\"\"] = createAPIConfig({\n  resources: [\"https://api.iconify.design\"].concat(fallBackAPI)\n});\n\nfunction addAPIProvider(provider, customConfig) {\n  var config = createAPIConfig(customConfig);\n\n  if (config === null) {\n    return false;\n  }\n\n  configStorage[provider] = config;\n  return true;\n}\n\nfunction getAPIConfig(provider) {\n  return configStorage[provider];\n}\n\nfunction listAPIProviders() {\n  return Object.keys(configStorage);\n}\n\nvar detectFetch = function detectFetch() {\n  var callback;\n\n  try {\n    callback = fetch;\n\n    if (typeof callback === \"function\") {\n      return callback;\n    }\n  } catch (err) {}\n};\n\nvar fetchModule = detectFetch();\n\nfunction setFetch(fetch2) {\n  fetchModule = fetch2;\n}\n\nfunction getFetch() {\n  return fetchModule;\n}\n\nfunction calculateMaxLength(provider, prefix) {\n  var config = getAPIConfig(provider);\n\n  if (!config) {\n    return 0;\n  }\n\n  var result;\n\n  if (!config.maxURL) {\n    result = 0;\n  } else {\n    var maxHostLength = 0;\n    config.resources.forEach(function (item) {\n      var host = item;\n      maxHostLength = Math.max(maxHostLength, host.length);\n    });\n    var url = prefix + \".json?icons=\";\n    result = config.maxURL - maxHostLength - config.path.length - url.length;\n  }\n\n  return result;\n}\n\nfunction shouldAbort(status) {\n  return status === 404;\n}\n\nvar prepare = function prepare(provider, prefix, icons) {\n  var results = [];\n  var maxLength = calculateMaxLength(provider, prefix);\n  var type = \"icons\";\n  var item = {\n    type: type,\n    provider: provider,\n    prefix: prefix,\n    icons: []\n  };\n  var length = 0;\n  icons.forEach(function (name, index) {\n    length += name.length + 1;\n\n    if (length >= maxLength && index > 0) {\n      results.push(item);\n      item = {\n        type: type,\n        provider: provider,\n        prefix: prefix,\n        icons: []\n      };\n      length = name.length;\n    }\n\n    item.icons.push(name);\n  });\n  results.push(item);\n  return results;\n};\n\nfunction getPath(provider) {\n  if (typeof provider === \"string\") {\n    var config = getAPIConfig(provider);\n\n    if (config) {\n      return config.path;\n    }\n  }\n\n  return \"/\";\n}\n\nvar send = function send(host, params, callback) {\n  if (!fetchModule) {\n    callback(\"abort\", 424);\n    return;\n  }\n\n  var path = getPath(params.provider);\n\n  switch (params.type) {\n    case \"icons\":\n      {\n        var prefix = params.prefix;\n        var icons = params.icons;\n        var iconsList = icons.join(\",\");\n        var urlParams = new URLSearchParams({\n          icons: iconsList\n        });\n        path += prefix + \".json?\" + urlParams.toString();\n        break;\n      }\n\n    case \"custom\":\n      {\n        var uri = params.uri;\n        path += uri.slice(0, 1) === \"/\" ? uri.slice(1) : uri;\n        break;\n      }\n\n    default:\n      callback(\"abort\", 400);\n      return;\n  }\n\n  var defaultError = 503;\n  fetchModule(host + path).then(function (response) {\n    var status = response.status;\n\n    if (status !== 200) {\n      setTimeout(function () {\n        callback(shouldAbort(status) ? \"abort\" : \"next\", status);\n      });\n      return;\n    }\n\n    defaultError = 501;\n    return response.json();\n  }).then(function (data) {\n    if (typeof data !== \"object\" || data === null) {\n      setTimeout(function () {\n        callback(\"next\", defaultError);\n      });\n      return;\n    }\n\n    setTimeout(function () {\n      callback(\"success\", data);\n    });\n  }).catch(function () {\n    callback(\"next\", defaultError);\n  });\n};\n\nvar fetchAPIModule = {\n  prepare: prepare,\n  send: send\n};\n\nfunction sortIcons(icons) {\n  var result = {\n    loaded: [],\n    missing: [],\n    pending: []\n  };\n  var storage = /* @__PURE__ */Object.create(null);\n  icons.sort(function (a, b) {\n    if (a.provider !== b.provider) {\n      return a.provider.localeCompare(b.provider);\n    }\n\n    if (a.prefix !== b.prefix) {\n      return a.prefix.localeCompare(b.prefix);\n    }\n\n    return a.name.localeCompare(b.name);\n  });\n  var lastIcon = {\n    provider: \"\",\n    prefix: \"\",\n    name: \"\"\n  };\n  icons.forEach(function (icon) {\n    if (lastIcon.name === icon.name && lastIcon.prefix === icon.prefix && lastIcon.provider === icon.provider) {\n      return;\n    }\n\n    lastIcon = icon;\n    var provider = icon.provider;\n    var prefix = icon.prefix;\n    var name = icon.name;\n    var providerStorage = storage[provider] || (storage[provider] = /* @__PURE__ */Object.create(null));\n    var localStorage = providerStorage[prefix] || (providerStorage[prefix] = getStorage(provider, prefix));\n    var list;\n\n    if (name in localStorage.icons) {\n      list = result.loaded;\n    } else if (prefix === \"\" || localStorage.missing.has(name)) {\n      list = result.missing;\n    } else {\n      list = result.pending;\n    }\n\n    var item = {\n      provider: provider,\n      prefix: prefix,\n      name: name\n    };\n    list.push(item);\n  });\n  return result;\n}\n\nfunction removeCallback(storages, id) {\n  storages.forEach(function (storage) {\n    var items = storage.loaderCallbacks;\n\n    if (items) {\n      storage.loaderCallbacks = items.filter(function (row) {\n        return row.id !== id;\n      });\n    }\n  });\n}\n\nfunction updateCallbacks(storage) {\n  if (!storage.pendingCallbacksFlag) {\n    storage.pendingCallbacksFlag = true;\n    setTimeout(function () {\n      storage.pendingCallbacksFlag = false;\n      var items = storage.loaderCallbacks ? storage.loaderCallbacks.slice(0) : [];\n\n      if (!items.length) {\n        return;\n      }\n\n      var hasPending = false;\n      var provider = storage.provider;\n      var prefix = storage.prefix;\n      items.forEach(function (item) {\n        var icons = item.icons;\n        var oldLength = icons.pending.length;\n        icons.pending = icons.pending.filter(function (icon) {\n          if (icon.prefix !== prefix) {\n            return true;\n          }\n\n          var name = icon.name;\n\n          if (storage.icons[name]) {\n            icons.loaded.push({\n              provider: provider,\n              prefix: prefix,\n              name: name\n            });\n          } else if (storage.missing.has(name)) {\n            icons.missing.push({\n              provider: provider,\n              prefix: prefix,\n              name: name\n            });\n          } else {\n            hasPending = true;\n            return true;\n          }\n\n          return false;\n        });\n\n        if (icons.pending.length !== oldLength) {\n          if (!hasPending) {\n            removeCallback([storage], item.id);\n          }\n\n          item.callback(icons.loaded.slice(0), icons.missing.slice(0), icons.pending.slice(0), item.abort);\n        }\n      });\n    });\n  }\n}\n\nvar idCounter = 0;\n\nfunction storeCallback(callback, icons, pendingSources) {\n  var id = idCounter++;\n  var abort = removeCallback.bind(null, pendingSources, id);\n\n  if (!icons.pending.length) {\n    return abort;\n  }\n\n  var item = {\n    id: id,\n    icons: icons,\n    callback: callback,\n    abort: abort\n  };\n  pendingSources.forEach(function (storage) {\n    (storage.loaderCallbacks || (storage.loaderCallbacks = [])).push(item);\n  });\n  return abort;\n}\n\nfunction listToIcons(list) {\n  var validate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var simpleNames = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var result = [];\n  list.forEach(function (item) {\n    var icon = typeof item === \"string\" ? stringToIcon(item, validate, simpleNames) : item;\n\n    if (icon) {\n      result.push(icon);\n    }\n  });\n  return result;\n} // src/config.ts\n\n\nvar defaultConfig = {\n  resources: [],\n  index: 0,\n  timeout: 2e3,\n  rotate: 750,\n  random: false,\n  dataAfterTimeout: false\n}; // src/query.ts\n\nfunction sendQuery(config, payload, query, done) {\n  var resourcesCount = config.resources.length;\n  var startIndex = config.random ? Math.floor(Math.random() * resourcesCount) : config.index;\n  var resources;\n\n  if (config.random) {\n    var list = config.resources.slice(0);\n    resources = [];\n\n    while (list.length > 1) {\n      var nextIndex = Math.floor(Math.random() * list.length);\n      resources.push(list[nextIndex]);\n      list = list.slice(0, nextIndex).concat(list.slice(nextIndex + 1));\n    }\n\n    resources = resources.concat(list);\n  } else {\n    resources = config.resources.slice(startIndex).concat(config.resources.slice(0, startIndex));\n  }\n\n  var startTime = Date.now();\n  var status = \"pending\";\n  var queriesSent = 0;\n  var lastError;\n  var timer = null;\n  var queue = [];\n  var doneCallbacks = [];\n\n  if (typeof done === \"function\") {\n    doneCallbacks.push(done);\n  }\n\n  function resetTimer() {\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n  }\n\n  function abort() {\n    if (status === \"pending\") {\n      status = \"aborted\";\n    }\n\n    resetTimer();\n    queue.forEach(function (item) {\n      if (item.status === \"pending\") {\n        item.status = \"aborted\";\n      }\n    });\n    queue = [];\n  }\n\n  function subscribe(callback, overwrite) {\n    if (overwrite) {\n      doneCallbacks = [];\n    }\n\n    if (typeof callback === \"function\") {\n      doneCallbacks.push(callback);\n    }\n  }\n\n  function getQueryStatus() {\n    return {\n      startTime: startTime,\n      payload: payload,\n      status: status,\n      queriesSent: queriesSent,\n      queriesPending: queue.length,\n      subscribe: subscribe,\n      abort: abort\n    };\n  }\n\n  function failQuery() {\n    status = \"failed\";\n    doneCallbacks.forEach(function (callback) {\n      callback(void 0, lastError);\n    });\n  }\n\n  function clearQueue() {\n    queue.forEach(function (item) {\n      if (item.status === \"pending\") {\n        item.status = \"aborted\";\n      }\n    });\n    queue = [];\n  }\n\n  function moduleResponse(item, response, data) {\n    var isError = response !== \"success\";\n    queue = queue.filter(function (queued) {\n      return queued !== item;\n    });\n\n    switch (status) {\n      case \"pending\":\n        break;\n\n      case \"failed\":\n        if (isError || !config.dataAfterTimeout) {\n          return;\n        }\n\n        break;\n\n      default:\n        return;\n    }\n\n    if (response === \"abort\") {\n      lastError = data;\n      failQuery();\n      return;\n    }\n\n    if (isError) {\n      lastError = data;\n\n      if (!queue.length) {\n        if (!resources.length) {\n          failQuery();\n        } else {\n          execNext();\n        }\n      }\n\n      return;\n    }\n\n    resetTimer();\n    clearQueue();\n\n    if (!config.random) {\n      var index = config.resources.indexOf(item.resource);\n\n      if (index !== -1 && index !== config.index) {\n        config.index = index;\n      }\n    }\n\n    status = \"completed\";\n    doneCallbacks.forEach(function (callback) {\n      callback(data);\n    });\n  }\n\n  function execNext() {\n    if (status !== \"pending\") {\n      return;\n    }\n\n    resetTimer();\n    var resource = resources.shift();\n\n    if (resource === void 0) {\n      if (queue.length) {\n        timer = setTimeout(function () {\n          resetTimer();\n\n          if (status === \"pending\") {\n            clearQueue();\n            failQuery();\n          }\n        }, config.timeout);\n        return;\n      }\n\n      failQuery();\n      return;\n    }\n\n    var item = {\n      status: \"pending\",\n      resource: resource,\n      callback: function callback(status2, data) {\n        moduleResponse(item, status2, data);\n      }\n    };\n    queue.push(item);\n    queriesSent++;\n    timer = setTimeout(execNext, config.rotate);\n    query(resource, payload, item.callback);\n  }\n\n  setTimeout(execNext);\n  return getQueryStatus;\n} // src/index.ts\n\n\nfunction initRedundancy(cfg) {\n  var config = _objectSpread(_objectSpread({}, defaultConfig), cfg);\n\n  var queries = [];\n\n  function cleanup() {\n    queries = queries.filter(function (item) {\n      return item().status === \"pending\";\n    });\n  }\n\n  function query(payload, queryCallback, doneCallback) {\n    var query2 = sendQuery(config, payload, queryCallback, function (data, error) {\n      cleanup();\n\n      if (doneCallback) {\n        doneCallback(data, error);\n      }\n    });\n    queries.push(query2);\n    return query2;\n  }\n\n  function find(callback) {\n    return queries.find(function (value) {\n      return callback(value);\n    }) || null;\n  }\n\n  var instance = {\n    query: query,\n    find: find,\n    setIndex: function setIndex(index) {\n      config.index = index;\n    },\n    getIndex: function getIndex() {\n      return config.index;\n    },\n    cleanup: cleanup\n  };\n  return instance;\n}\n\nfunction emptyCallback$1() {}\n\nvar redundancyCache = /* @__PURE__ */Object.create(null);\n\nfunction getRedundancyCache(provider) {\n  if (!redundancyCache[provider]) {\n    var config = getAPIConfig(provider);\n\n    if (!config) {\n      return;\n    }\n\n    var redundancy = initRedundancy(config);\n    var cachedReundancy = {\n      config: config,\n      redundancy: redundancy\n    };\n    redundancyCache[provider] = cachedReundancy;\n  }\n\n  return redundancyCache[provider];\n}\n\nfunction sendAPIQuery(target, query, callback) {\n  var redundancy;\n  var send;\n\n  if (typeof target === \"string\") {\n    var api = getAPIModule(target);\n\n    if (!api) {\n      callback(void 0, 424);\n      return emptyCallback$1;\n    }\n\n    send = api.send;\n    var cached = getRedundancyCache(target);\n\n    if (cached) {\n      redundancy = cached.redundancy;\n    }\n  } else {\n    var config = createAPIConfig(target);\n\n    if (config) {\n      redundancy = initRedundancy(config);\n      var moduleKey = target.resources ? target.resources[0] : \"\";\n\n      var _api2 = getAPIModule(moduleKey);\n\n      if (_api2) {\n        send = _api2.send;\n      }\n    }\n  }\n\n  if (!redundancy || !send) {\n    callback(void 0, 424);\n    return emptyCallback$1;\n  }\n\n  return redundancy.query(query, send, callback)().abort;\n}\n\nvar browserCacheVersion = \"iconify2\";\nvar browserCachePrefix = \"iconify\";\nvar browserCacheCountKey = browserCachePrefix + \"-count\";\nvar browserCacheVersionKey = browserCachePrefix + \"-version\";\nvar browserStorageHour = 36e5;\nvar browserStorageCacheExpiration = 168;\n\nfunction getStoredItem(func, key) {\n  try {\n    return func.getItem(key);\n  } catch (err) {}\n}\n\nfunction setStoredItem(func, key, value) {\n  try {\n    func.setItem(key, value);\n    return true;\n  } catch (err) {}\n}\n\nfunction removeStoredItem(func, key) {\n  try {\n    func.removeItem(key);\n  } catch (err) {}\n}\n\nfunction setBrowserStorageItemsCount(storage, value) {\n  return setStoredItem(storage, browserCacheCountKey, value.toString());\n}\n\nfunction getBrowserStorageItemsCount(storage) {\n  return parseInt(getStoredItem(storage, browserCacheCountKey)) || 0;\n}\n\nvar browserStorageConfig = {\n  local: true,\n  session: true\n};\nvar browserStorageEmptyItems = {\n  local: /* @__PURE__ */new Set(),\n  session: /* @__PURE__ */new Set()\n};\nvar browserStorageStatus = false;\n\nfunction setBrowserStorageStatus(status) {\n  browserStorageStatus = status;\n}\n\nvar _window = typeof window === \"undefined\" ? {} : window;\n\nfunction getBrowserStorage(key) {\n  var attr = key + \"Storage\";\n\n  try {\n    if (_window && _window[attr] && typeof _window[attr].length === \"number\") {\n      return _window[attr];\n    }\n  } catch (err) {}\n\n  browserStorageConfig[key] = false;\n}\n\nfunction iterateBrowserStorage(key, callback) {\n  var func = getBrowserStorage(key);\n\n  if (!func) {\n    return;\n  }\n\n  var version = getStoredItem(func, browserCacheVersionKey);\n\n  if (version !== browserCacheVersion) {\n    if (version) {\n      var total2 = getBrowserStorageItemsCount(func);\n\n      for (var i = 0; i < total2; i++) {\n        removeStoredItem(func, browserCachePrefix + i.toString());\n      }\n    }\n\n    setStoredItem(func, browserCacheVersionKey, browserCacheVersion);\n    setBrowserStorageItemsCount(func, 0);\n    return;\n  }\n\n  var minTime = Math.floor(Date.now() / browserStorageHour) - browserStorageCacheExpiration;\n\n  var parseItem = function parseItem(index) {\n    var name = browserCachePrefix + index.toString();\n    var item = getStoredItem(func, name);\n\n    if (typeof item !== \"string\") {\n      return;\n    }\n\n    try {\n      var data = JSON.parse(item);\n\n      if (typeof data === \"object\" && typeof data.cached === \"number\" && data.cached > minTime && typeof data.provider === \"string\" && typeof data.data === \"object\" && typeof data.data.prefix === \"string\" && callback(data, index)) {\n        return true;\n      }\n    } catch (err) {}\n\n    removeStoredItem(func, name);\n  };\n\n  var total = getBrowserStorageItemsCount(func);\n\n  for (var _i = total - 1; _i >= 0; _i--) {\n    if (!parseItem(_i)) {\n      if (_i === total - 1) {\n        total--;\n        setBrowserStorageItemsCount(func, total);\n      } else {\n        browserStorageEmptyItems[key].add(_i);\n      }\n    }\n  }\n}\n\nfunction initBrowserStorage() {\n  if (browserStorageStatus) {\n    return;\n  }\n\n  setBrowserStorageStatus(true);\n\n  for (var key in browserStorageConfig) {\n    iterateBrowserStorage(key, function (item) {\n      var iconSet = item.data;\n      var provider = item.provider;\n      var prefix = iconSet.prefix;\n      var storage = getStorage(provider, prefix);\n\n      if (!addIconSet(storage, iconSet).length) {\n        return false;\n      }\n\n      var lastModified = iconSet.lastModified || -1;\n      storage.lastModifiedCached = storage.lastModifiedCached ? Math.min(storage.lastModifiedCached, lastModified) : lastModified;\n      return true;\n    });\n  }\n}\n\nfunction updateLastModified(storage, lastModified) {\n  var lastValue = storage.lastModifiedCached;\n\n  if (lastValue && lastValue >= lastModified) {\n    return lastValue === lastModified;\n  }\n\n  storage.lastModifiedCached = lastModified;\n\n  if (lastValue) {\n    for (var key in browserStorageConfig) {\n      iterateBrowserStorage(key, function (item) {\n        var iconSet = item.data;\n        return item.provider !== storage.provider || iconSet.prefix !== storage.prefix || iconSet.lastModified === lastModified;\n      });\n    }\n  }\n\n  return true;\n}\n\nfunction storeInBrowserStorage(storage, data) {\n  if (!browserStorageStatus) {\n    initBrowserStorage();\n  }\n\n  function store(key) {\n    var func;\n\n    if (!browserStorageConfig[key] || !(func = getBrowserStorage(key))) {\n      return;\n    }\n\n    var set = browserStorageEmptyItems[key];\n    var index;\n\n    if (set.size) {\n      set.delete(index = Array.from(set).shift());\n    } else {\n      index = getBrowserStorageItemsCount(func);\n\n      if (!setBrowserStorageItemsCount(func, index + 1)) {\n        return;\n      }\n    }\n\n    var item = {\n      cached: Math.floor(Date.now() / browserStorageHour),\n      provider: storage.provider,\n      data: data\n    };\n    return setStoredItem(func, browserCachePrefix + index.toString(), JSON.stringify(item));\n  }\n\n  if (data.lastModified && !updateLastModified(storage, data.lastModified)) {\n    return;\n  }\n\n  if (!Object.keys(data.icons).length) {\n    return;\n  }\n\n  if (data.not_found) {\n    data = Object.assign({}, data);\n    delete data.not_found;\n  }\n\n  if (!store(\"local\")) {\n    store(\"session\");\n  }\n}\n\nfunction emptyCallback() {}\n\nfunction loadedNewIcons(storage) {\n  if (!storage.iconsLoaderFlag) {\n    storage.iconsLoaderFlag = true;\n    setTimeout(function () {\n      storage.iconsLoaderFlag = false;\n      updateCallbacks(storage);\n    });\n  }\n}\n\nfunction loadNewIcons(storage, icons) {\n  if (!storage.iconsToLoad) {\n    storage.iconsToLoad = icons;\n  } else {\n    storage.iconsToLoad = storage.iconsToLoad.concat(icons).sort();\n  }\n\n  if (!storage.iconsQueueFlag) {\n    storage.iconsQueueFlag = true;\n    setTimeout(function () {\n      storage.iconsQueueFlag = false;\n      var provider = storage.provider,\n          prefix = storage.prefix;\n      var icons2 = storage.iconsToLoad;\n      delete storage.iconsToLoad;\n      var api;\n\n      if (!icons2 || !(api = getAPIModule(provider))) {\n        return;\n      }\n\n      var params = api.prepare(provider, prefix, icons2);\n      params.forEach(function (item) {\n        sendAPIQuery(provider, item, function (data, error) {\n          if (typeof data !== \"object\") {\n            if (error !== 404) {\n              return;\n            }\n\n            item.icons.forEach(function (name) {\n              storage.missing.add(name);\n            });\n          } else {\n            try {\n              var parsed = addIconSet(storage, data);\n\n              if (!parsed.length) {\n                return;\n              }\n\n              var pending = storage.pendingIcons;\n\n              if (pending) {\n                parsed.forEach(function (name) {\n                  pending.delete(name);\n                });\n              }\n\n              storeInBrowserStorage(storage, data);\n            } catch (err) {\n              console.error(err);\n            }\n          }\n\n          loadedNewIcons(storage);\n        });\n      });\n    });\n  }\n}\n\nvar loadIcons = function loadIcons(icons, callback) {\n  var cleanedIcons = listToIcons(icons, true, allowSimpleNames());\n  var sortedIcons = sortIcons(cleanedIcons);\n\n  if (!sortedIcons.pending.length) {\n    var callCallback = true;\n\n    if (callback) {\n      setTimeout(function () {\n        if (callCallback) {\n          callback(sortedIcons.loaded, sortedIcons.missing, sortedIcons.pending, emptyCallback);\n        }\n      });\n    }\n\n    return function () {\n      callCallback = false;\n    };\n  }\n\n  var newIcons = /* @__PURE__ */Object.create(null);\n  var sources = [];\n  var lastProvider, lastPrefix;\n  sortedIcons.pending.forEach(function (icon) {\n    var provider = icon.provider,\n        prefix = icon.prefix;\n\n    if (prefix === lastPrefix && provider === lastProvider) {\n      return;\n    }\n\n    lastProvider = provider;\n    lastPrefix = prefix;\n    sources.push(getStorage(provider, prefix));\n    var providerNewIcons = newIcons[provider] || (newIcons[provider] = /* @__PURE__ */Object.create(null));\n\n    if (!providerNewIcons[prefix]) {\n      providerNewIcons[prefix] = [];\n    }\n  });\n  sortedIcons.pending.forEach(function (icon) {\n    var provider = icon.provider,\n        prefix = icon.prefix,\n        name = icon.name;\n    var storage = getStorage(provider, prefix);\n    var pendingQueue = storage.pendingIcons || (storage.pendingIcons = /* @__PURE__ */new Set());\n\n    if (!pendingQueue.has(name)) {\n      pendingQueue.add(name);\n      newIcons[provider][prefix].push(name);\n    }\n  });\n  sources.forEach(function (storage) {\n    var provider = storage.provider,\n        prefix = storage.prefix;\n\n    if (newIcons[provider][prefix].length) {\n      loadNewIcons(storage, newIcons[provider][prefix]);\n    }\n  });\n  return callback ? storeCallback(callback, sortedIcons, sources) : emptyCallback;\n};\n\nvar loadIcon = function loadIcon(icon) {\n  return new Promise(function (fulfill, reject) {\n    var iconObj = typeof icon === \"string\" ? stringToIcon(icon) : icon;\n    loadIcons([iconObj || icon], function (loaded) {\n      if (loaded.length && iconObj) {\n        var data = getIconData(iconObj);\n\n        if (data) {\n          fulfill(_objectSpread(_objectSpread({}, defaultIconProps), data));\n          return;\n        }\n      }\n\n      reject(icon);\n    });\n  });\n};\n\nfunction toggleBrowserCache(storage, value) {\n  switch (storage) {\n    case \"local\":\n    case \"session\":\n      browserStorageConfig[storage] = value;\n      break;\n\n    case \"all\":\n      for (var key in browserStorageConfig) {\n        browserStorageConfig[key] = value;\n      }\n\n      break;\n  }\n}\n\nfunction mergeCustomisations(defaults, item) {\n  var result = _objectSpread({}, defaults);\n\n  for (var key in item) {\n    var value = item[key];\n    var valueType = typeof value;\n\n    if (key in defaultIconSizeCustomisations) {\n      if (value === null || value && (valueType === \"string\" || valueType === \"number\")) {\n        result[key] = value;\n      }\n    } else if (valueType === typeof result[key]) {\n      result[key] = key === \"rotate\" ? value % 4 : value;\n    }\n  }\n\n  return result;\n}\n\nvar separator = /[\\s,]+/;\n\nfunction flipFromString(custom, flip) {\n  flip.split(separator).forEach(function (str) {\n    var value = str.trim();\n\n    switch (value) {\n      case \"horizontal\":\n        custom.hFlip = true;\n        break;\n\n      case \"vertical\":\n        custom.vFlip = true;\n        break;\n    }\n  });\n}\n\nfunction rotateFromString(value) {\n  var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var units = value.replace(/^-?[0-9.]*/, \"\");\n\n  function cleanup(value2) {\n    while (value2 < 0) {\n      value2 += 4;\n    }\n\n    return value2 % 4;\n  }\n\n  if (units === \"\") {\n    var num = parseInt(value);\n    return isNaN(num) ? 0 : cleanup(num);\n  } else if (units !== value) {\n    var split = 0;\n\n    switch (units) {\n      case \"%\":\n        split = 25;\n        break;\n\n      case \"deg\":\n        split = 90;\n    }\n\n    if (split) {\n      var _num = parseFloat(value.slice(0, value.length - units.length));\n\n      if (isNaN(_num)) {\n        return 0;\n      }\n\n      _num = _num / split;\n      return _num % 1 === 0 ? cleanup(_num) : 0;\n    }\n  }\n\n  return defaultValue;\n}\n\nfunction iconToHTML(body, attributes) {\n  var renderAttribsHTML = body.indexOf(\"xlink:\") === -1 ? \"\" : ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"';\n\n  for (var attr in attributes) {\n    renderAttribsHTML += \" \" + attr + '=\"' + attributes[attr] + '\"';\n  }\n\n  return '<svg xmlns=\"http://www.w3.org/2000/svg\"' + renderAttribsHTML + \">\" + body + \"</svg>\";\n}\n\nfunction encodeSVGforURL(svg) {\n  return svg.replace(/\"/g, \"'\").replace(/%/g, \"%25\").replace(/#/g, \"%23\").replace(/</g, \"%3C\").replace(/>/g, \"%3E\").replace(/\\s+/g, \" \");\n}\n\nfunction svgToURL(svg) {\n  return 'url(\"data:image/svg+xml,' + encodeSVGforURL(svg) + '\")';\n}\n\nvar defaultExtendedIconCustomisations = _objectSpread(_objectSpread({}, defaultIconCustomisations), {}, {\n  inline: false\n});\n/**\n * Default SVG attributes\n */\n\n\nvar svgDefaults = {\n  'xmlns': 'http://www.w3.org/2000/svg',\n  'xmlnsXlink': 'http://www.w3.org/1999/xlink',\n  'aria-hidden': true,\n  'role': 'img'\n};\n/**\n * Style modes\n */\n\nvar commonProps = {\n  display: 'inline-block'\n};\nvar monotoneProps = {\n  backgroundColor: 'currentColor'\n};\nvar coloredProps = {\n  backgroundColor: 'transparent'\n}; // Dynamically add common props to variables above\n\nvar propsToAdd = {\n  Image: 'var(--svg)',\n  Repeat: 'no-repeat',\n  Size: '100% 100%'\n};\nvar propsToAddTo = {\n  webkitMask: monotoneProps,\n  mask: monotoneProps,\n  background: coloredProps\n};\n\nfor (var prefix in propsToAddTo) {\n  var list = propsToAddTo[prefix];\n\n  for (var prop in propsToAdd) {\n    list[prefix + prop] = propsToAdd[prop];\n  }\n}\n/**\n * Default values for customisations for inline icon\n */\n\n\nvar inlineDefaults = _objectSpread(_objectSpread({}, defaultExtendedIconCustomisations), {}, {\n  inline: true\n});\n/**\n * Fix size: add 'px' to numbers\n */\n\n\nfunction fixSize(value) {\n  return value + (value.match(/^[-0-9.]+$/) ? 'px' : '');\n}\n/**\n * Render icon\n */\n\n\nvar _render = function render( // Icon must be validated before calling this function\nicon, // Partial properties\nprops, // True if icon should have vertical-align added\ninline, // Optional reference for SVG/SPAN, extracted by React.forwardRef()\nref) {\n  // Get default properties\n  var defaultProps = inline ? inlineDefaults : defaultExtendedIconCustomisations; // Get all customisations\n\n  var customisations = mergeCustomisations(defaultProps, props); // Check mode\n\n  var mode = props.mode || 'svg'; // Create style\n\n  var style = {};\n  var customStyle = props.style || {}; // Create SVG component properties\n\n  var componentProps = _objectSpread(_objectSpread({}, mode === 'svg' ? svgDefaults : {}), {}, {\n    ref: ref\n  }); // Get element properties\n\n\n  for (var key in props) {\n    var value = props[key];\n\n    if (value === void 0) {\n      continue;\n    }\n\n    switch (key) {\n      // Properties to ignore\n      case 'icon':\n      case 'style':\n      case 'children':\n      case 'onLoad':\n      case 'mode':\n      case '_ref':\n      case '_inline':\n        break;\n      // Boolean attributes\n\n      case 'inline':\n      case 'hFlip':\n      case 'vFlip':\n        customisations[key] = value === true || value === 'true' || value === 1;\n        break;\n      // Flip as string: 'horizontal,vertical'\n\n      case 'flip':\n        if (typeof value === 'string') {\n          flipFromString(customisations, value);\n        }\n\n        break;\n      // Color: copy to style\n\n      case 'color':\n        style.color = value;\n        break;\n      // Rotation as string\n\n      case 'rotate':\n        if (typeof value === 'string') {\n          customisations[key] = rotateFromString(value);\n        } else if (typeof value === 'number') {\n          customisations[key] = value;\n        }\n\n        break;\n      // Remove aria-hidden\n\n      case 'ariaHidden':\n      case 'aria-hidden':\n        if (value !== true && value !== 'true') {\n          delete componentProps['aria-hidden'];\n        }\n\n        break;\n      // Copy missing property if it does not exist in customisations\n\n      default:\n        if (defaultProps[key] === void 0) {\n          componentProps[key] = value;\n        }\n\n    }\n  } // Generate icon\n\n\n  var item = iconToSVG(icon, customisations);\n  var renderAttribs = item.attributes; // Inline display\n\n  if (customisations.inline) {\n    style.verticalAlign = '-0.125em';\n  }\n\n  if (mode === 'svg') {\n    // Add style\n    componentProps.style = _objectSpread(_objectSpread({}, style), customStyle); // Add icon stuff\n\n    Object.assign(componentProps, renderAttribs); // Counter for ids based on \"id\" property to render icons consistently on server and client\n\n    var localCounter = 0;\n    var id = props.id;\n\n    if (typeof id === 'string') {\n      // Convert '-' to '_' to avoid errors in animations\n      id = id.replace(/-/g, '_');\n    } // Add icon stuff\n\n\n    componentProps.dangerouslySetInnerHTML = {\n      __html: replaceIDs(item.body, id ? function () {\n        return id + 'ID' + localCounter++;\n      } : 'iconifyReact')\n    };\n    return React.createElement('svg', componentProps);\n  } // Render <span> with style\n\n\n  var body = icon.body,\n      width = icon.width,\n      height = icon.height;\n  var useMask = mode === 'mask' || (mode === 'bg' ? false : body.indexOf('currentColor') !== -1); // Generate SVG\n\n  var html = iconToHTML(body, _objectSpread(_objectSpread({}, renderAttribs), {}, {\n    width: width + '',\n    height: height + ''\n  })); // Generate style\n\n  componentProps.style = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, style), {}, {\n    '--svg': svgToURL(html),\n    'width': fixSize(renderAttribs.width),\n    'height': fixSize(renderAttribs.height)\n  }, commonProps), useMask ? monotoneProps : coloredProps), customStyle);\n  return React.createElement('span', componentProps);\n};\n/**\n * Enable cache\n */\n\n\nfunction enableCache(storage) {\n  toggleBrowserCache(storage, true);\n}\n/**\n * Disable cache\n */\n\n\nfunction disableCache(storage) {\n  toggleBrowserCache(storage, false);\n}\n/**\n * Initialise stuff\n */\n// Enable short names\n\n\nallowSimpleNames(true); // Set API module\n\nsetAPIModule('', fetchAPIModule);\n/**\n * Browser stuff\n */\n\nif (typeof document !== 'undefined' && typeof window !== 'undefined') {\n  // Set cache and load existing cache\n  initBrowserStorage();\n  var _window2 = window; // Load icons from global \"IconifyPreload\"\n\n  if (_window2.IconifyPreload !== void 0) {\n    var preload = _window2.IconifyPreload;\n    var err = 'Invalid IconifyPreload syntax.';\n\n    if (typeof preload === 'object' && preload !== null) {\n      (preload instanceof Array ? preload : [preload]).forEach(function (item) {\n        try {\n          if ( // Check if item is an object and not null/array\n          typeof item !== 'object' || item === null || item instanceof Array || // Check for 'icons' and 'prefix'\n          typeof item.icons !== 'object' || typeof item.prefix !== 'string' || // Add icon set\n          !addCollection(item)) {\n            console.error(err);\n          }\n        } catch (e) {\n          console.error(err);\n        }\n      });\n    }\n  } // Set API from global \"IconifyProviders\"\n\n\n  if (_window2.IconifyProviders !== void 0) {\n    var providers = _window2.IconifyProviders;\n\n    if (typeof providers === 'object' && providers !== null) {\n      for (var key in providers) {\n        var _err = 'IconifyProviders[' + key + '] is invalid.';\n\n        try {\n          var value = providers[key];\n\n          if (typeof value !== 'object' || !value || value.resources === void 0) {\n            continue;\n          }\n\n          if (!addAPIProvider(key, value)) {\n            console.error(_err);\n          }\n        } catch (e) {\n          console.error(_err);\n        }\n      }\n    }\n  }\n}\n\nvar IconComponent = /*#__PURE__*/function (_React$Component) {\n  _inherits(IconComponent, _React$Component);\n\n  var _super = _createSuper(IconComponent);\n\n  function IconComponent(props) {\n    var _this;\n\n    _classCallCheck(this, IconComponent);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      // Render placeholder before component is mounted\n      icon: null\n    };\n    return _this;\n  }\n  /**\n   * Abort loading icon\n   */\n\n\n  _createClass(IconComponent, [{\n    key: \"_abortLoading\",\n    value: function _abortLoading() {\n      if (this._loading) {\n        this._loading.abort();\n\n        this._loading = null;\n      }\n    }\n    /**\n     * Update state\n     */\n\n  }, {\n    key: \"_setData\",\n    value: function _setData(icon) {\n      if (this.state.icon !== icon) {\n        this.setState({\n          icon: icon\n        });\n      }\n    }\n    /**\n     * Check if icon should be loaded\n     */\n\n  }, {\n    key: \"_checkIcon\",\n    value: function _checkIcon(changed) {\n      var state = this.state;\n      var icon = this.props.icon; // Icon is an object\n\n      if (typeof icon === 'object' && icon !== null && typeof icon.body === 'string') {\n        // Stop loading\n        this._icon = '';\n\n        this._abortLoading();\n\n        if (changed || state.icon === null) {\n          // Set data if it was changed\n          this._setData({\n            data: icon\n          });\n        }\n\n        return;\n      } // Invalid icon?\n\n\n      var iconName;\n\n      if (typeof icon !== 'string' || (iconName = stringToIcon(icon, false, true)) === null) {\n        this._abortLoading();\n\n        this._setData(null);\n\n        return;\n      } // Load icon\n\n\n      var data = getIconData(iconName);\n\n      if (!data) {\n        // Icon data is not available\n        if (!this._loading || this._loading.name !== icon) {\n          // New icon to load\n          this._abortLoading();\n\n          this._icon = '';\n\n          this._setData(null);\n\n          if (data !== null) {\n            // Icon was not loaded\n            this._loading = {\n              name: icon,\n              abort: loadIcons([iconName], this._checkIcon.bind(this, false))\n            };\n          }\n        }\n\n        return;\n      } // Icon data is available\n\n\n      if (this._icon !== icon || state.icon === null) {\n        // New icon or icon has been loaded\n        this._abortLoading();\n\n        this._icon = icon; // Add classes\n\n        var classes = ['iconify'];\n\n        if (iconName.prefix !== '') {\n          classes.push('iconify--' + iconName.prefix);\n        }\n\n        if (iconName.provider !== '') {\n          classes.push('iconify--' + iconName.provider);\n        } // Set data\n\n\n        this._setData({\n          data: data,\n          classes: classes\n        });\n\n        if (this.props.onLoad) {\n          this.props.onLoad(icon);\n        }\n      }\n    }\n    /**\n     * Component mounted\n     */\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._checkIcon(false);\n    }\n    /**\n     * Component updated\n     */\n\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(oldProps) {\n      if (oldProps.icon !== this.props.icon) {\n        this._checkIcon(true);\n      }\n    }\n    /**\n     * Abort loading\n     */\n\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._abortLoading();\n    }\n    /**\n     * Render\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = this.props;\n      var icon = this.state.icon;\n\n      if (icon === null) {\n        // Render placeholder\n        return props.children ? props.children : React.createElement('span', {});\n      } // Add classes\n\n\n      var newProps = props;\n\n      if (icon.classes) {\n        newProps = _objectSpread(_objectSpread({}, props), {}, {\n          className: (typeof props.className === 'string' ? props.className + ' ' : '') + icon.classes.join(' ')\n        });\n      } // Render icon\n\n\n      return _render(_objectSpread(_objectSpread({}, defaultIconProps), icon.data), newProps, props._inline, props._ref);\n    }\n  }]);\n\n  return IconComponent;\n}(React.Component);\n/**\n * Block icon\n *\n * @param props - Component properties\n */\n\n\nvar Icon = React.forwardRef(function Icon(props, ref) {\n  var newProps = _objectSpread(_objectSpread({}, props), {}, {\n    _ref: ref,\n    _inline: false\n  });\n\n  return React.createElement(IconComponent, newProps);\n});\n/**\n * Inline icon (has negative verticalAlign that makes it behave like icon font)\n *\n * @param props - Component properties\n */\n\nvar InlineIcon = React.forwardRef(function InlineIcon(props, ref) {\n  var newProps = _objectSpread(_objectSpread({}, props), {}, {\n    _ref: ref,\n    _inline: true\n  });\n\n  return React.createElement(IconComponent, newProps);\n});\n/**\n * Internal API\n */\n\nvar _api = {\n  getAPIConfig: getAPIConfig,\n  setAPIModule: setAPIModule,\n  sendAPIQuery: sendAPIQuery,\n  setFetch: setFetch,\n  getFetch: getFetch,\n  listAPIProviders: listAPIProviders\n};\nexport { Icon, InlineIcon, _api, addAPIProvider, addCollection, addIcon, iconToSVG as buildIcon, calculateSize, disableCache, enableCache, getIcon, iconExists, listIcons, loadIcon, loadIcons, replaceIDs };","map":{"version":3,"names":["React","matchIconName","stringToIcon","value","validate","allowSimpleName","provider","colonSeparated","split","slice","length","shift","name2","pop","prefix","result","name","validateIconName","dashSeparated","join","icon","match","defaultIconDimensions","Object","freeze","left","top","width","height","defaultIconTransformations","rotate","vFlip","hFlip","defaultIconProps","defaultExtendedIconProps","body","hidden","mergeIconTransformations","obj1","obj2","mergeIconData","parent","child","key","getIconsTree","data","names","icons","aliases","resolved","create","resolve","concat","keys","forEach","internalGetIconData","tree","currentProps","parse","parseIconSet","callback","not_found","Array","push","item","optionalPropertyDefaults","checkOptionalProps","defaults","prop","quicklyValidateIconSet","obj","dataStorage","newStorage","missing","Set","getStorage","providerStorage","addIconSet","storage","add","addIconToStorage","err","listIcons","allIcons","providers","provider2","prefixes","prefix2","map","simpleNames","allowSimpleNames","allow","getIconData","iconName","has","addIcon","addCollection","added","iconExists","getIcon","defaultIconSizeCustomisations","defaultIconCustomisations","unitsSplit","unitsTest","calculateSize","size","ratio","precision","Math","ceil","oldParts","newParts","code","isNumber","test","num","parseFloat","isNaN","iconToSVG","customisations","fullIcon","fullCustomisations","box","props","transformations","rotation","toString","tempValue","floor","unshift","customisationsWidth","customisationsHeight","boxWidth","boxHeight","attributes","viewBox","regex","randomPrefix","Date","now","random","counter","replaceIDs","ids","exec","id","newID","escapedID","replace","RegExp","setAPIModule","getAPIModule","createAPIConfig","source","resources","path","maxURL","timeout","index","dataAfterTimeout","configStorage","fallBackAPISources","fallBackAPI","addAPIProvider","customConfig","config","getAPIConfig","listAPIProviders","detectFetch","fetch","fetchModule","setFetch","fetch2","getFetch","calculateMaxLength","maxHostLength","host","max","url","shouldAbort","status","prepare","results","maxLength","type","getPath","send","params","iconsList","urlParams","URLSearchParams","uri","defaultError","then","response","setTimeout","json","catch","fetchAPIModule","sortIcons","loaded","pending","sort","a","b","localeCompare","lastIcon","localStorage","list","removeCallback","storages","items","loaderCallbacks","filter","row","updateCallbacks","pendingCallbacksFlag","hasPending","oldLength","abort","idCounter","storeCallback","pendingSources","bind","listToIcons","defaultConfig","sendQuery","payload","query","done","resourcesCount","startIndex","nextIndex","startTime","queriesSent","lastError","timer","queue","doneCallbacks","resetTimer","clearTimeout","subscribe","overwrite","getQueryStatus","queriesPending","failQuery","clearQueue","moduleResponse","isError","queued","execNext","indexOf","resource","status2","initRedundancy","cfg","queries","cleanup","queryCallback","doneCallback","query2","error","find","instance","setIndex","getIndex","emptyCallback$1","redundancyCache","getRedundancyCache","redundancy","cachedReundancy","sendAPIQuery","target","api","cached","moduleKey","browserCacheVersion","browserCachePrefix","browserCacheCountKey","browserCacheVersionKey","browserStorageHour","browserStorageCacheExpiration","getStoredItem","func","getItem","setStoredItem","setItem","removeStoredItem","removeItem","setBrowserStorageItemsCount","getBrowserStorageItemsCount","parseInt","browserStorageConfig","local","session","browserStorageEmptyItems","browserStorageStatus","setBrowserStorageStatus","_window","window","getBrowserStorage","attr","iterateBrowserStorage","version","total2","i","minTime","parseItem","JSON","total","initBrowserStorage","iconSet","lastModified","lastModifiedCached","min","updateLastModified","lastValue","storeInBrowserStorage","store","set","delete","from","stringify","assign","emptyCallback","loadedNewIcons","iconsLoaderFlag","loadNewIcons","iconsToLoad","iconsQueueFlag","icons2","parsed","pendingIcons","console","loadIcons","cleanedIcons","sortedIcons","callCallback","newIcons","sources","lastProvider","lastPrefix","providerNewIcons","pendingQueue","loadIcon","Promise","fulfill","reject","iconObj","toggleBrowserCache","mergeCustomisations","valueType","separator","flipFromString","custom","flip","str","trim","rotateFromString","defaultValue","units","value2","iconToHTML","renderAttribsHTML","encodeSVGforURL","svg","svgToURL","defaultExtendedIconCustomisations","inline","svgDefaults","commonProps","display","monotoneProps","backgroundColor","coloredProps","propsToAdd","Image","Repeat","Size","propsToAddTo","webkitMask","mask","background","inlineDefaults","fixSize","render","ref","defaultProps","mode","style","customStyle","componentProps","color","renderAttribs","verticalAlign","localCounter","dangerouslySetInnerHTML","__html","createElement","useMask","html","enableCache","disableCache","document","IconifyPreload","preload","e","IconifyProviders","IconComponent","state","_loading","setState","changed","_icon","_abortLoading","_setData","_checkIcon","classes","onLoad","oldProps","children","newProps","className","_inline","_ref","Component","Icon","forwardRef","InlineIcon","_api","buildIcon"],"sources":["C:/Users/yungc/yungchuchuang.github.io/node_modules/@iconify/react/dist/iconify.mjs"],"sourcesContent":["import React from 'react';\n\nconst matchIconName = /^[a-z0-9]+(-[a-z0-9]+)*$/;\nconst stringToIcon = (value, validate, allowSimpleName, provider = \"\") => {\n  const colonSeparated = value.split(\":\");\n  if (value.slice(0, 1) === \"@\") {\n    if (colonSeparated.length < 2 || colonSeparated.length > 3) {\n      return null;\n    }\n    provider = colonSeparated.shift().slice(1);\n  }\n  if (colonSeparated.length > 3 || !colonSeparated.length) {\n    return null;\n  }\n  if (colonSeparated.length > 1) {\n    const name2 = colonSeparated.pop();\n    const prefix = colonSeparated.pop();\n    const result = {\n      provider: colonSeparated.length > 0 ? colonSeparated[0] : provider,\n      prefix,\n      name: name2\n    };\n    return validate && !validateIconName(result) ? null : result;\n  }\n  const name = colonSeparated[0];\n  const dashSeparated = name.split(\"-\");\n  if (dashSeparated.length > 1) {\n    const result = {\n      provider,\n      prefix: dashSeparated.shift(),\n      name: dashSeparated.join(\"-\")\n    };\n    return validate && !validateIconName(result) ? null : result;\n  }\n  if (allowSimpleName && provider === \"\") {\n    const result = {\n      provider,\n      prefix: \"\",\n      name\n    };\n    return validate && !validateIconName(result, allowSimpleName) ? null : result;\n  }\n  return null;\n};\nconst validateIconName = (icon, allowSimpleName) => {\n  if (!icon) {\n    return false;\n  }\n  return !!((icon.provider === \"\" || icon.provider.match(matchIconName)) && (allowSimpleName && icon.prefix === \"\" || icon.prefix.match(matchIconName)) && icon.name.match(matchIconName));\n};\n\nconst defaultIconDimensions = Object.freeze(\n  {\n    left: 0,\n    top: 0,\n    width: 16,\n    height: 16\n  }\n);\nconst defaultIconTransformations = Object.freeze({\n  rotate: 0,\n  vFlip: false,\n  hFlip: false\n});\nconst defaultIconProps = Object.freeze({\n  ...defaultIconDimensions,\n  ...defaultIconTransformations\n});\nconst defaultExtendedIconProps = Object.freeze({\n  ...defaultIconProps,\n  body: \"\",\n  hidden: false\n});\n\nfunction mergeIconTransformations(obj1, obj2) {\n  const result = {};\n  if (!obj1.hFlip !== !obj2.hFlip) {\n    result.hFlip = true;\n  }\n  if (!obj1.vFlip !== !obj2.vFlip) {\n    result.vFlip = true;\n  }\n  const rotate = ((obj1.rotate || 0) + (obj2.rotate || 0)) % 4;\n  if (rotate) {\n    result.rotate = rotate;\n  }\n  return result;\n}\n\nfunction mergeIconData(parent, child) {\n  const result = mergeIconTransformations(parent, child);\n  for (const key in defaultExtendedIconProps) {\n    if (key in defaultIconTransformations) {\n      if (key in parent && !(key in result)) {\n        result[key] = defaultIconTransformations[key];\n      }\n    } else if (key in child) {\n      result[key] = child[key];\n    } else if (key in parent) {\n      result[key] = parent[key];\n    }\n  }\n  return result;\n}\n\nfunction getIconsTree(data, names) {\n  const icons = data.icons;\n  const aliases = data.aliases || {};\n  const resolved = /* @__PURE__ */ Object.create(null);\n  function resolve(name) {\n    if (icons[name]) {\n      return resolved[name] = [];\n    }\n    if (!(name in resolved)) {\n      resolved[name] = null;\n      const parent = aliases[name] && aliases[name].parent;\n      const value = parent && resolve(parent);\n      if (value) {\n        resolved[name] = [parent].concat(value);\n      }\n    }\n    return resolved[name];\n  }\n  (names || Object.keys(icons).concat(Object.keys(aliases))).forEach(resolve);\n  return resolved;\n}\n\nfunction internalGetIconData(data, name, tree) {\n  const icons = data.icons;\n  const aliases = data.aliases || {};\n  let currentProps = {};\n  function parse(name2) {\n    currentProps = mergeIconData(\n      icons[name2] || aliases[name2],\n      currentProps\n    );\n  }\n  parse(name);\n  tree.forEach(parse);\n  return mergeIconData(data, currentProps);\n}\n\nfunction parseIconSet(data, callback) {\n  const names = [];\n  if (typeof data !== \"object\" || typeof data.icons !== \"object\") {\n    return names;\n  }\n  if (data.not_found instanceof Array) {\n    data.not_found.forEach((name) => {\n      callback(name, null);\n      names.push(name);\n    });\n  }\n  const tree = getIconsTree(data);\n  for (const name in tree) {\n    const item = tree[name];\n    if (item) {\n      callback(name, internalGetIconData(data, name, item));\n      names.push(name);\n    }\n  }\n  return names;\n}\n\nconst optionalPropertyDefaults = {\n  provider: \"\",\n  aliases: {},\n  not_found: {},\n  ...defaultIconDimensions\n};\nfunction checkOptionalProps(item, defaults) {\n  for (const prop in defaults) {\n    if (prop in item && typeof item[prop] !== typeof defaults[prop]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction quicklyValidateIconSet(obj) {\n  if (typeof obj !== \"object\" || obj === null) {\n    return null;\n  }\n  const data = obj;\n  if (typeof data.prefix !== \"string\" || !obj.icons || typeof obj.icons !== \"object\") {\n    return null;\n  }\n  if (!checkOptionalProps(obj, optionalPropertyDefaults)) {\n    return null;\n  }\n  const icons = data.icons;\n  for (const name in icons) {\n    const icon = icons[name];\n    if (!name.match(matchIconName) || typeof icon.body !== \"string\" || !checkOptionalProps(\n      icon,\n      defaultExtendedIconProps\n    )) {\n      return null;\n    }\n  }\n  const aliases = data.aliases || {};\n  for (const name in aliases) {\n    const icon = aliases[name];\n    const parent = icon.parent;\n    if (!name.match(matchIconName) || typeof parent !== \"string\" || !icons[parent] && !aliases[parent] || !checkOptionalProps(\n      icon,\n      defaultExtendedIconProps\n    )) {\n      return null;\n    }\n  }\n  return data;\n}\n\nconst dataStorage = /* @__PURE__ */ Object.create(null);\nfunction newStorage(provider, prefix) {\n  return {\n    provider,\n    prefix,\n    icons: /* @__PURE__ */ Object.create(null),\n    missing: /* @__PURE__ */ new Set()\n  };\n}\nfunction getStorage(provider, prefix) {\n  const providerStorage = dataStorage[provider] || (dataStorage[provider] = /* @__PURE__ */ Object.create(null));\n  return providerStorage[prefix] || (providerStorage[prefix] = newStorage(provider, prefix));\n}\nfunction addIconSet(storage, data) {\n  if (!quicklyValidateIconSet(data)) {\n    return [];\n  }\n  return parseIconSet(data, (name, icon) => {\n    if (icon) {\n      storage.icons[name] = icon;\n    } else {\n      storage.missing.add(name);\n    }\n  });\n}\nfunction addIconToStorage(storage, name, icon) {\n  try {\n    if (typeof icon.body === \"string\") {\n      storage.icons[name] = { ...icon };\n      return true;\n    }\n  } catch (err) {\n  }\n  return false;\n}\nfunction listIcons(provider, prefix) {\n  let allIcons = [];\n  const providers = typeof provider === \"string\" ? [provider] : Object.keys(dataStorage);\n  providers.forEach((provider2) => {\n    const prefixes = typeof provider2 === \"string\" && typeof prefix === \"string\" ? [prefix] : Object.keys(dataStorage[provider2] || {});\n    prefixes.forEach((prefix2) => {\n      const storage = getStorage(provider2, prefix2);\n      allIcons = allIcons.concat(\n        Object.keys(storage.icons).map(\n          (name) => (provider2 !== \"\" ? \"@\" + provider2 + \":\" : \"\") + prefix2 + \":\" + name\n        )\n      );\n    });\n  });\n  return allIcons;\n}\n\nlet simpleNames = false;\nfunction allowSimpleNames(allow) {\n  if (typeof allow === \"boolean\") {\n    simpleNames = allow;\n  }\n  return simpleNames;\n}\nfunction getIconData(name) {\n  const icon = typeof name === \"string\" ? stringToIcon(name, true, simpleNames) : name;\n  if (icon) {\n    const storage = getStorage(icon.provider, icon.prefix);\n    const iconName = icon.name;\n    return storage.icons[iconName] || (storage.missing.has(iconName) ? null : void 0);\n  }\n}\nfunction addIcon(name, data) {\n  const icon = stringToIcon(name, true, simpleNames);\n  if (!icon) {\n    return false;\n  }\n  const storage = getStorage(icon.provider, icon.prefix);\n  return addIconToStorage(storage, icon.name, data);\n}\nfunction addCollection(data, provider) {\n  if (typeof data !== \"object\") {\n    return false;\n  }\n  if (typeof provider !== \"string\") {\n    provider = data.provider || \"\";\n  }\n  if (simpleNames && !provider && !data.prefix) {\n    let added = false;\n    if (quicklyValidateIconSet(data)) {\n      data.prefix = \"\";\n      parseIconSet(data, (name, icon) => {\n        if (icon && addIcon(name, icon)) {\n          added = true;\n        }\n      });\n    }\n    return added;\n  }\n  const prefix = data.prefix;\n  if (!validateIconName({\n    provider,\n    prefix,\n    name: \"a\"\n  })) {\n    return false;\n  }\n  const storage = getStorage(provider, prefix);\n  return !!addIconSet(storage, data);\n}\nfunction iconExists(name) {\n  return !!getIconData(name);\n}\nfunction getIcon(name) {\n  const result = getIconData(name);\n  return result ? {\n    ...defaultIconProps,\n    ...result\n  } : null;\n}\n\nconst defaultIconSizeCustomisations = Object.freeze({\n  width: null,\n  height: null\n});\nconst defaultIconCustomisations = Object.freeze({\n  ...defaultIconSizeCustomisations,\n  ...defaultIconTransformations\n});\n\nconst unitsSplit = /(-?[0-9.]*[0-9]+[0-9.]*)/g;\nconst unitsTest = /^-?[0-9.]*[0-9]+[0-9.]*$/g;\nfunction calculateSize(size, ratio, precision) {\n  if (ratio === 1) {\n    return size;\n  }\n  precision = precision || 100;\n  if (typeof size === \"number\") {\n    return Math.ceil(size * ratio * precision) / precision;\n  }\n  if (typeof size !== \"string\") {\n    return size;\n  }\n  const oldParts = size.split(unitsSplit);\n  if (oldParts === null || !oldParts.length) {\n    return size;\n  }\n  const newParts = [];\n  let code = oldParts.shift();\n  let isNumber = unitsTest.test(code);\n  while (true) {\n    if (isNumber) {\n      const num = parseFloat(code);\n      if (isNaN(num)) {\n        newParts.push(code);\n      } else {\n        newParts.push(Math.ceil(num * ratio * precision) / precision);\n      }\n    } else {\n      newParts.push(code);\n    }\n    code = oldParts.shift();\n    if (code === void 0) {\n      return newParts.join(\"\");\n    }\n    isNumber = !isNumber;\n  }\n}\n\nfunction iconToSVG(icon, customisations) {\n  const fullIcon = {\n    ...defaultIconProps,\n    ...icon\n  };\n  const fullCustomisations = {\n    ...defaultIconCustomisations,\n    ...customisations\n  };\n  const box = {\n    left: fullIcon.left,\n    top: fullIcon.top,\n    width: fullIcon.width,\n    height: fullIcon.height\n  };\n  let body = fullIcon.body;\n  [fullIcon, fullCustomisations].forEach((props) => {\n    const transformations = [];\n    const hFlip = props.hFlip;\n    const vFlip = props.vFlip;\n    let rotation = props.rotate;\n    if (hFlip) {\n      if (vFlip) {\n        rotation += 2;\n      } else {\n        transformations.push(\n          \"translate(\" + (box.width + box.left).toString() + \" \" + (0 - box.top).toString() + \")\"\n        );\n        transformations.push(\"scale(-1 1)\");\n        box.top = box.left = 0;\n      }\n    } else if (vFlip) {\n      transformations.push(\n        \"translate(\" + (0 - box.left).toString() + \" \" + (box.height + box.top).toString() + \")\"\n      );\n      transformations.push(\"scale(1 -1)\");\n      box.top = box.left = 0;\n    }\n    let tempValue;\n    if (rotation < 0) {\n      rotation -= Math.floor(rotation / 4) * 4;\n    }\n    rotation = rotation % 4;\n    switch (rotation) {\n      case 1:\n        tempValue = box.height / 2 + box.top;\n        transformations.unshift(\n          \"rotate(90 \" + tempValue.toString() + \" \" + tempValue.toString() + \")\"\n        );\n        break;\n      case 2:\n        transformations.unshift(\n          \"rotate(180 \" + (box.width / 2 + box.left).toString() + \" \" + (box.height / 2 + box.top).toString() + \")\"\n        );\n        break;\n      case 3:\n        tempValue = box.width / 2 + box.left;\n        transformations.unshift(\n          \"rotate(-90 \" + tempValue.toString() + \" \" + tempValue.toString() + \")\"\n        );\n        break;\n    }\n    if (rotation % 2 === 1) {\n      if (box.left !== box.top) {\n        tempValue = box.left;\n        box.left = box.top;\n        box.top = tempValue;\n      }\n      if (box.width !== box.height) {\n        tempValue = box.width;\n        box.width = box.height;\n        box.height = tempValue;\n      }\n    }\n    if (transformations.length) {\n      body = '<g transform=\"' + transformations.join(\" \") + '\">' + body + \"</g>\";\n    }\n  });\n  const customisationsWidth = fullCustomisations.width;\n  const customisationsHeight = fullCustomisations.height;\n  const boxWidth = box.width;\n  const boxHeight = box.height;\n  let width;\n  let height;\n  if (customisationsWidth === null) {\n    height = customisationsHeight === null ? \"1em\" : customisationsHeight === \"auto\" ? boxHeight : customisationsHeight;\n    width = calculateSize(height, boxWidth / boxHeight);\n  } else {\n    width = customisationsWidth === \"auto\" ? boxWidth : customisationsWidth;\n    height = customisationsHeight === null ? calculateSize(width, boxHeight / boxWidth) : customisationsHeight === \"auto\" ? boxHeight : customisationsHeight;\n  }\n  const result = {\n    attributes: {\n      width: width.toString(),\n      height: height.toString(),\n      viewBox: box.left.toString() + \" \" + box.top.toString() + \" \" + boxWidth.toString() + \" \" + boxHeight.toString()\n    },\n    body\n  };\n  return result;\n}\n\nconst regex = /\\sid=\"(\\S+)\"/g;\nconst randomPrefix = \"IconifyId\" + Date.now().toString(16) + (Math.random() * 16777216 | 0).toString(16);\nlet counter = 0;\nfunction replaceIDs(body, prefix = randomPrefix) {\n  const ids = [];\n  let match;\n  while (match = regex.exec(body)) {\n    ids.push(match[1]);\n  }\n  if (!ids.length) {\n    return body;\n  }\n  ids.forEach((id) => {\n    const newID = typeof prefix === \"function\" ? prefix(id) : prefix + (counter++).toString();\n    const escapedID = id.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n    body = body.replace(\n      new RegExp('([#;\"])(' + escapedID + ')([\")]|\\\\.[a-z])', \"g\"),\n      \"$1\" + newID + \"$3\"\n    );\n  });\n  return body;\n}\n\nconst storage = /* @__PURE__ */ Object.create(null);\nfunction setAPIModule(provider, item) {\n  storage[provider] = item;\n}\nfunction getAPIModule(provider) {\n  return storage[provider] || storage[\"\"];\n}\n\nfunction createAPIConfig(source) {\n  let resources;\n  if (typeof source.resources === \"string\") {\n    resources = [source.resources];\n  } else {\n    resources = source.resources;\n    if (!(resources instanceof Array) || !resources.length) {\n      return null;\n    }\n  }\n  const result = {\n    resources,\n    path: source.path || \"/\",\n    maxURL: source.maxURL || 500,\n    rotate: source.rotate || 750,\n    timeout: source.timeout || 5e3,\n    random: source.random === true,\n    index: source.index || 0,\n    dataAfterTimeout: source.dataAfterTimeout !== false\n  };\n  return result;\n}\nconst configStorage = /* @__PURE__ */ Object.create(null);\nconst fallBackAPISources = [\n  \"https://api.simplesvg.com\",\n  \"https://api.unisvg.com\"\n];\nconst fallBackAPI = [];\nwhile (fallBackAPISources.length > 0) {\n  if (fallBackAPISources.length === 1) {\n    fallBackAPI.push(fallBackAPISources.shift());\n  } else {\n    if (Math.random() > 0.5) {\n      fallBackAPI.push(fallBackAPISources.shift());\n    } else {\n      fallBackAPI.push(fallBackAPISources.pop());\n    }\n  }\n}\nconfigStorage[\"\"] = createAPIConfig({\n  resources: [\"https://api.iconify.design\"].concat(fallBackAPI)\n});\nfunction addAPIProvider(provider, customConfig) {\n  const config = createAPIConfig(customConfig);\n  if (config === null) {\n    return false;\n  }\n  configStorage[provider] = config;\n  return true;\n}\nfunction getAPIConfig(provider) {\n  return configStorage[provider];\n}\nfunction listAPIProviders() {\n  return Object.keys(configStorage);\n}\n\nconst detectFetch = () => {\n  let callback;\n  try {\n    callback = fetch;\n    if (typeof callback === \"function\") {\n      return callback;\n    }\n  } catch (err) {\n  }\n};\nlet fetchModule = detectFetch();\nfunction setFetch(fetch2) {\n  fetchModule = fetch2;\n}\nfunction getFetch() {\n  return fetchModule;\n}\nfunction calculateMaxLength(provider, prefix) {\n  const config = getAPIConfig(provider);\n  if (!config) {\n    return 0;\n  }\n  let result;\n  if (!config.maxURL) {\n    result = 0;\n  } else {\n    let maxHostLength = 0;\n    config.resources.forEach((item) => {\n      const host = item;\n      maxHostLength = Math.max(maxHostLength, host.length);\n    });\n    const url = prefix + \".json?icons=\";\n    result = config.maxURL - maxHostLength - config.path.length - url.length;\n  }\n  return result;\n}\nfunction shouldAbort(status) {\n  return status === 404;\n}\nconst prepare = (provider, prefix, icons) => {\n  const results = [];\n  const maxLength = calculateMaxLength(provider, prefix);\n  const type = \"icons\";\n  let item = {\n    type,\n    provider,\n    prefix,\n    icons: []\n  };\n  let length = 0;\n  icons.forEach((name, index) => {\n    length += name.length + 1;\n    if (length >= maxLength && index > 0) {\n      results.push(item);\n      item = {\n        type,\n        provider,\n        prefix,\n        icons: []\n      };\n      length = name.length;\n    }\n    item.icons.push(name);\n  });\n  results.push(item);\n  return results;\n};\nfunction getPath(provider) {\n  if (typeof provider === \"string\") {\n    const config = getAPIConfig(provider);\n    if (config) {\n      return config.path;\n    }\n  }\n  return \"/\";\n}\nconst send = (host, params, callback) => {\n  if (!fetchModule) {\n    callback(\"abort\", 424);\n    return;\n  }\n  let path = getPath(params.provider);\n  switch (params.type) {\n    case \"icons\": {\n      const prefix = params.prefix;\n      const icons = params.icons;\n      const iconsList = icons.join(\",\");\n      const urlParams = new URLSearchParams({\n        icons: iconsList\n      });\n      path += prefix + \".json?\" + urlParams.toString();\n      break;\n    }\n    case \"custom\": {\n      const uri = params.uri;\n      path += uri.slice(0, 1) === \"/\" ? uri.slice(1) : uri;\n      break;\n    }\n    default:\n      callback(\"abort\", 400);\n      return;\n  }\n  let defaultError = 503;\n  fetchModule(host + path).then((response) => {\n    const status = response.status;\n    if (status !== 200) {\n      setTimeout(() => {\n        callback(shouldAbort(status) ? \"abort\" : \"next\", status);\n      });\n      return;\n    }\n    defaultError = 501;\n    return response.json();\n  }).then((data) => {\n    if (typeof data !== \"object\" || data === null) {\n      setTimeout(() => {\n        callback(\"next\", defaultError);\n      });\n      return;\n    }\n    setTimeout(() => {\n      callback(\"success\", data);\n    });\n  }).catch(() => {\n    callback(\"next\", defaultError);\n  });\n};\nconst fetchAPIModule = {\n  prepare,\n  send\n};\n\nfunction sortIcons(icons) {\n  const result = {\n    loaded: [],\n    missing: [],\n    pending: []\n  };\n  const storage = /* @__PURE__ */ Object.create(null);\n  icons.sort((a, b) => {\n    if (a.provider !== b.provider) {\n      return a.provider.localeCompare(b.provider);\n    }\n    if (a.prefix !== b.prefix) {\n      return a.prefix.localeCompare(b.prefix);\n    }\n    return a.name.localeCompare(b.name);\n  });\n  let lastIcon = {\n    provider: \"\",\n    prefix: \"\",\n    name: \"\"\n  };\n  icons.forEach((icon) => {\n    if (lastIcon.name === icon.name && lastIcon.prefix === icon.prefix && lastIcon.provider === icon.provider) {\n      return;\n    }\n    lastIcon = icon;\n    const provider = icon.provider;\n    const prefix = icon.prefix;\n    const name = icon.name;\n    const providerStorage = storage[provider] || (storage[provider] = /* @__PURE__ */ Object.create(null));\n    const localStorage = providerStorage[prefix] || (providerStorage[prefix] = getStorage(provider, prefix));\n    let list;\n    if (name in localStorage.icons) {\n      list = result.loaded;\n    } else if (prefix === \"\" || localStorage.missing.has(name)) {\n      list = result.missing;\n    } else {\n      list = result.pending;\n    }\n    const item = {\n      provider,\n      prefix,\n      name\n    };\n    list.push(item);\n  });\n  return result;\n}\n\nfunction removeCallback(storages, id) {\n  storages.forEach((storage) => {\n    const items = storage.loaderCallbacks;\n    if (items) {\n      storage.loaderCallbacks = items.filter((row) => row.id !== id);\n    }\n  });\n}\nfunction updateCallbacks(storage) {\n  if (!storage.pendingCallbacksFlag) {\n    storage.pendingCallbacksFlag = true;\n    setTimeout(() => {\n      storage.pendingCallbacksFlag = false;\n      const items = storage.loaderCallbacks ? storage.loaderCallbacks.slice(0) : [];\n      if (!items.length) {\n        return;\n      }\n      let hasPending = false;\n      const provider = storage.provider;\n      const prefix = storage.prefix;\n      items.forEach((item) => {\n        const icons = item.icons;\n        const oldLength = icons.pending.length;\n        icons.pending = icons.pending.filter((icon) => {\n          if (icon.prefix !== prefix) {\n            return true;\n          }\n          const name = icon.name;\n          if (storage.icons[name]) {\n            icons.loaded.push({\n              provider,\n              prefix,\n              name\n            });\n          } else if (storage.missing.has(name)) {\n            icons.missing.push({\n              provider,\n              prefix,\n              name\n            });\n          } else {\n            hasPending = true;\n            return true;\n          }\n          return false;\n        });\n        if (icons.pending.length !== oldLength) {\n          if (!hasPending) {\n            removeCallback([storage], item.id);\n          }\n          item.callback(\n            icons.loaded.slice(0),\n            icons.missing.slice(0),\n            icons.pending.slice(0),\n            item.abort\n          );\n        }\n      });\n    });\n  }\n}\nlet idCounter = 0;\nfunction storeCallback(callback, icons, pendingSources) {\n  const id = idCounter++;\n  const abort = removeCallback.bind(null, pendingSources, id);\n  if (!icons.pending.length) {\n    return abort;\n  }\n  const item = {\n    id,\n    icons,\n    callback,\n    abort\n  };\n  pendingSources.forEach((storage) => {\n    (storage.loaderCallbacks || (storage.loaderCallbacks = [])).push(item);\n  });\n  return abort;\n}\n\nfunction listToIcons(list, validate = true, simpleNames = false) {\n  const result = [];\n  list.forEach((item) => {\n    const icon = typeof item === \"string\" ? stringToIcon(item, validate, simpleNames) : item;\n    if (icon) {\n      result.push(icon);\n    }\n  });\n  return result;\n}\n\n// src/config.ts\nvar defaultConfig = {\n  resources: [],\n  index: 0,\n  timeout: 2e3,\n  rotate: 750,\n  random: false,\n  dataAfterTimeout: false\n};\n\n// src/query.ts\nfunction sendQuery(config, payload, query, done) {\n  const resourcesCount = config.resources.length;\n  const startIndex = config.random ? Math.floor(Math.random() * resourcesCount) : config.index;\n  let resources;\n  if (config.random) {\n    let list = config.resources.slice(0);\n    resources = [];\n    while (list.length > 1) {\n      const nextIndex = Math.floor(Math.random() * list.length);\n      resources.push(list[nextIndex]);\n      list = list.slice(0, nextIndex).concat(list.slice(nextIndex + 1));\n    }\n    resources = resources.concat(list);\n  } else {\n    resources = config.resources.slice(startIndex).concat(config.resources.slice(0, startIndex));\n  }\n  const startTime = Date.now();\n  let status = \"pending\";\n  let queriesSent = 0;\n  let lastError;\n  let timer = null;\n  let queue = [];\n  let doneCallbacks = [];\n  if (typeof done === \"function\") {\n    doneCallbacks.push(done);\n  }\n  function resetTimer() {\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n  }\n  function abort() {\n    if (status === \"pending\") {\n      status = \"aborted\";\n    }\n    resetTimer();\n    queue.forEach((item) => {\n      if (item.status === \"pending\") {\n        item.status = \"aborted\";\n      }\n    });\n    queue = [];\n  }\n  function subscribe(callback, overwrite) {\n    if (overwrite) {\n      doneCallbacks = [];\n    }\n    if (typeof callback === \"function\") {\n      doneCallbacks.push(callback);\n    }\n  }\n  function getQueryStatus() {\n    return {\n      startTime,\n      payload,\n      status,\n      queriesSent,\n      queriesPending: queue.length,\n      subscribe,\n      abort\n    };\n  }\n  function failQuery() {\n    status = \"failed\";\n    doneCallbacks.forEach((callback) => {\n      callback(void 0, lastError);\n    });\n  }\n  function clearQueue() {\n    queue.forEach((item) => {\n      if (item.status === \"pending\") {\n        item.status = \"aborted\";\n      }\n    });\n    queue = [];\n  }\n  function moduleResponse(item, response, data) {\n    const isError = response !== \"success\";\n    queue = queue.filter((queued) => queued !== item);\n    switch (status) {\n      case \"pending\":\n        break;\n      case \"failed\":\n        if (isError || !config.dataAfterTimeout) {\n          return;\n        }\n        break;\n      default:\n        return;\n    }\n    if (response === \"abort\") {\n      lastError = data;\n      failQuery();\n      return;\n    }\n    if (isError) {\n      lastError = data;\n      if (!queue.length) {\n        if (!resources.length) {\n          failQuery();\n        } else {\n          execNext();\n        }\n      }\n      return;\n    }\n    resetTimer();\n    clearQueue();\n    if (!config.random) {\n      const index = config.resources.indexOf(item.resource);\n      if (index !== -1 && index !== config.index) {\n        config.index = index;\n      }\n    }\n    status = \"completed\";\n    doneCallbacks.forEach((callback) => {\n      callback(data);\n    });\n  }\n  function execNext() {\n    if (status !== \"pending\") {\n      return;\n    }\n    resetTimer();\n    const resource = resources.shift();\n    if (resource === void 0) {\n      if (queue.length) {\n        timer = setTimeout(() => {\n          resetTimer();\n          if (status === \"pending\") {\n            clearQueue();\n            failQuery();\n          }\n        }, config.timeout);\n        return;\n      }\n      failQuery();\n      return;\n    }\n    const item = {\n      status: \"pending\",\n      resource,\n      callback: (status2, data) => {\n        moduleResponse(item, status2, data);\n      }\n    };\n    queue.push(item);\n    queriesSent++;\n    timer = setTimeout(execNext, config.rotate);\n    query(resource, payload, item.callback);\n  }\n  setTimeout(execNext);\n  return getQueryStatus;\n}\n\n// src/index.ts\nfunction initRedundancy(cfg) {\n  const config = {\n    ...defaultConfig,\n    ...cfg\n  };\n  let queries = [];\n  function cleanup() {\n    queries = queries.filter((item) => item().status === \"pending\");\n  }\n  function query(payload, queryCallback, doneCallback) {\n    const query2 = sendQuery(\n      config,\n      payload,\n      queryCallback,\n      (data, error) => {\n        cleanup();\n        if (doneCallback) {\n          doneCallback(data, error);\n        }\n      }\n    );\n    queries.push(query2);\n    return query2;\n  }\n  function find(callback) {\n    return queries.find((value) => {\n      return callback(value);\n    }) || null;\n  }\n  const instance = {\n    query,\n    find,\n    setIndex: (index) => {\n      config.index = index;\n    },\n    getIndex: () => config.index,\n    cleanup\n  };\n  return instance;\n}\n\nfunction emptyCallback$1() {\n}\nconst redundancyCache = /* @__PURE__ */ Object.create(null);\nfunction getRedundancyCache(provider) {\n  if (!redundancyCache[provider]) {\n    const config = getAPIConfig(provider);\n    if (!config) {\n      return;\n    }\n    const redundancy = initRedundancy(config);\n    const cachedReundancy = {\n      config,\n      redundancy\n    };\n    redundancyCache[provider] = cachedReundancy;\n  }\n  return redundancyCache[provider];\n}\nfunction sendAPIQuery(target, query, callback) {\n  let redundancy;\n  let send;\n  if (typeof target === \"string\") {\n    const api = getAPIModule(target);\n    if (!api) {\n      callback(void 0, 424);\n      return emptyCallback$1;\n    }\n    send = api.send;\n    const cached = getRedundancyCache(target);\n    if (cached) {\n      redundancy = cached.redundancy;\n    }\n  } else {\n    const config = createAPIConfig(target);\n    if (config) {\n      redundancy = initRedundancy(config);\n      const moduleKey = target.resources ? target.resources[0] : \"\";\n      const api = getAPIModule(moduleKey);\n      if (api) {\n        send = api.send;\n      }\n    }\n  }\n  if (!redundancy || !send) {\n    callback(void 0, 424);\n    return emptyCallback$1;\n  }\n  return redundancy.query(query, send, callback)().abort;\n}\n\nconst browserCacheVersion = \"iconify2\";\nconst browserCachePrefix = \"iconify\";\nconst browserCacheCountKey = browserCachePrefix + \"-count\";\nconst browserCacheVersionKey = browserCachePrefix + \"-version\";\nconst browserStorageHour = 36e5;\nconst browserStorageCacheExpiration = 168;\n\nfunction getStoredItem(func, key) {\n  try {\n    return func.getItem(key);\n  } catch (err) {\n  }\n}\nfunction setStoredItem(func, key, value) {\n  try {\n    func.setItem(key, value);\n    return true;\n  } catch (err) {\n  }\n}\nfunction removeStoredItem(func, key) {\n  try {\n    func.removeItem(key);\n  } catch (err) {\n  }\n}\n\nfunction setBrowserStorageItemsCount(storage, value) {\n  return setStoredItem(storage, browserCacheCountKey, value.toString());\n}\nfunction getBrowserStorageItemsCount(storage) {\n  return parseInt(getStoredItem(storage, browserCacheCountKey)) || 0;\n}\n\nconst browserStorageConfig = {\n  local: true,\n  session: true\n};\nconst browserStorageEmptyItems = {\n  local: /* @__PURE__ */ new Set(),\n  session: /* @__PURE__ */ new Set()\n};\nlet browserStorageStatus = false;\nfunction setBrowserStorageStatus(status) {\n  browserStorageStatus = status;\n}\n\nlet _window = typeof window === \"undefined\" ? {} : window;\nfunction getBrowserStorage(key) {\n  const attr = key + \"Storage\";\n  try {\n    if (_window && _window[attr] && typeof _window[attr].length === \"number\") {\n      return _window[attr];\n    }\n  } catch (err) {\n  }\n  browserStorageConfig[key] = false;\n}\n\nfunction iterateBrowserStorage(key, callback) {\n  const func = getBrowserStorage(key);\n  if (!func) {\n    return;\n  }\n  const version = getStoredItem(func, browserCacheVersionKey);\n  if (version !== browserCacheVersion) {\n    if (version) {\n      const total2 = getBrowserStorageItemsCount(func);\n      for (let i = 0; i < total2; i++) {\n        removeStoredItem(func, browserCachePrefix + i.toString());\n      }\n    }\n    setStoredItem(func, browserCacheVersionKey, browserCacheVersion);\n    setBrowserStorageItemsCount(func, 0);\n    return;\n  }\n  const minTime = Math.floor(Date.now() / browserStorageHour) - browserStorageCacheExpiration;\n  const parseItem = (index) => {\n    const name = browserCachePrefix + index.toString();\n    const item = getStoredItem(func, name);\n    if (typeof item !== \"string\") {\n      return;\n    }\n    try {\n      const data = JSON.parse(item);\n      if (typeof data === \"object\" && typeof data.cached === \"number\" && data.cached > minTime && typeof data.provider === \"string\" && typeof data.data === \"object\" && typeof data.data.prefix === \"string\" && callback(data, index)) {\n        return true;\n      }\n    } catch (err) {\n    }\n    removeStoredItem(func, name);\n  };\n  let total = getBrowserStorageItemsCount(func);\n  for (let i = total - 1; i >= 0; i--) {\n    if (!parseItem(i)) {\n      if (i === total - 1) {\n        total--;\n        setBrowserStorageItemsCount(func, total);\n      } else {\n        browserStorageEmptyItems[key].add(i);\n      }\n    }\n  }\n}\n\nfunction initBrowserStorage() {\n  if (browserStorageStatus) {\n    return;\n  }\n  setBrowserStorageStatus(true);\n  for (const key in browserStorageConfig) {\n    iterateBrowserStorage(key, (item) => {\n      const iconSet = item.data;\n      const provider = item.provider;\n      const prefix = iconSet.prefix;\n      const storage = getStorage(\n        provider,\n        prefix\n      );\n      if (!addIconSet(storage, iconSet).length) {\n        return false;\n      }\n      const lastModified = iconSet.lastModified || -1;\n      storage.lastModifiedCached = storage.lastModifiedCached ? Math.min(storage.lastModifiedCached, lastModified) : lastModified;\n      return true;\n    });\n  }\n}\n\nfunction updateLastModified(storage, lastModified) {\n  const lastValue = storage.lastModifiedCached;\n  if (lastValue && lastValue >= lastModified) {\n    return lastValue === lastModified;\n  }\n  storage.lastModifiedCached = lastModified;\n  if (lastValue) {\n    for (const key in browserStorageConfig) {\n      iterateBrowserStorage(key, (item) => {\n        const iconSet = item.data;\n        return item.provider !== storage.provider || iconSet.prefix !== storage.prefix || iconSet.lastModified === lastModified;\n      });\n    }\n  }\n  return true;\n}\nfunction storeInBrowserStorage(storage, data) {\n  if (!browserStorageStatus) {\n    initBrowserStorage();\n  }\n  function store(key) {\n    let func;\n    if (!browserStorageConfig[key] || !(func = getBrowserStorage(key))) {\n      return;\n    }\n    const set = browserStorageEmptyItems[key];\n    let index;\n    if (set.size) {\n      set.delete(index = Array.from(set).shift());\n    } else {\n      index = getBrowserStorageItemsCount(func);\n      if (!setBrowserStorageItemsCount(func, index + 1)) {\n        return;\n      }\n    }\n    const item = {\n      cached: Math.floor(Date.now() / browserStorageHour),\n      provider: storage.provider,\n      data\n    };\n    return setStoredItem(\n      func,\n      browserCachePrefix + index.toString(),\n      JSON.stringify(item)\n    );\n  }\n  if (data.lastModified && !updateLastModified(storage, data.lastModified)) {\n    return;\n  }\n  if (!Object.keys(data.icons).length) {\n    return;\n  }\n  if (data.not_found) {\n    data = Object.assign({}, data);\n    delete data.not_found;\n  }\n  if (!store(\"local\")) {\n    store(\"session\");\n  }\n}\n\nfunction emptyCallback() {\n}\nfunction loadedNewIcons(storage) {\n  if (!storage.iconsLoaderFlag) {\n    storage.iconsLoaderFlag = true;\n    setTimeout(() => {\n      storage.iconsLoaderFlag = false;\n      updateCallbacks(storage);\n    });\n  }\n}\nfunction loadNewIcons(storage, icons) {\n  if (!storage.iconsToLoad) {\n    storage.iconsToLoad = icons;\n  } else {\n    storage.iconsToLoad = storage.iconsToLoad.concat(icons).sort();\n  }\n  if (!storage.iconsQueueFlag) {\n    storage.iconsQueueFlag = true;\n    setTimeout(() => {\n      storage.iconsQueueFlag = false;\n      const { provider, prefix } = storage;\n      const icons2 = storage.iconsToLoad;\n      delete storage.iconsToLoad;\n      let api;\n      if (!icons2 || !(api = getAPIModule(provider))) {\n        return;\n      }\n      const params = api.prepare(provider, prefix, icons2);\n      params.forEach((item) => {\n        sendAPIQuery(provider, item, (data, error) => {\n          if (typeof data !== \"object\") {\n            if (error !== 404) {\n              return;\n            }\n            item.icons.forEach((name) => {\n              storage.missing.add(name);\n            });\n          } else {\n            try {\n              const parsed = addIconSet(\n                storage,\n                data\n              );\n              if (!parsed.length) {\n                return;\n              }\n              const pending = storage.pendingIcons;\n              if (pending) {\n                parsed.forEach((name) => {\n                  pending.delete(name);\n                });\n              }\n              storeInBrowserStorage(storage, data);\n            } catch (err) {\n              console.error(err);\n            }\n          }\n          loadedNewIcons(storage);\n        });\n      });\n    });\n  }\n}\nconst loadIcons = (icons, callback) => {\n  const cleanedIcons = listToIcons(icons, true, allowSimpleNames());\n  const sortedIcons = sortIcons(cleanedIcons);\n  if (!sortedIcons.pending.length) {\n    let callCallback = true;\n    if (callback) {\n      setTimeout(() => {\n        if (callCallback) {\n          callback(\n            sortedIcons.loaded,\n            sortedIcons.missing,\n            sortedIcons.pending,\n            emptyCallback\n          );\n        }\n      });\n    }\n    return () => {\n      callCallback = false;\n    };\n  }\n  const newIcons = /* @__PURE__ */ Object.create(null);\n  const sources = [];\n  let lastProvider, lastPrefix;\n  sortedIcons.pending.forEach((icon) => {\n    const { provider, prefix } = icon;\n    if (prefix === lastPrefix && provider === lastProvider) {\n      return;\n    }\n    lastProvider = provider;\n    lastPrefix = prefix;\n    sources.push(getStorage(provider, prefix));\n    const providerNewIcons = newIcons[provider] || (newIcons[provider] = /* @__PURE__ */ Object.create(null));\n    if (!providerNewIcons[prefix]) {\n      providerNewIcons[prefix] = [];\n    }\n  });\n  sortedIcons.pending.forEach((icon) => {\n    const { provider, prefix, name } = icon;\n    const storage = getStorage(provider, prefix);\n    const pendingQueue = storage.pendingIcons || (storage.pendingIcons = /* @__PURE__ */ new Set());\n    if (!pendingQueue.has(name)) {\n      pendingQueue.add(name);\n      newIcons[provider][prefix].push(name);\n    }\n  });\n  sources.forEach((storage) => {\n    const { provider, prefix } = storage;\n    if (newIcons[provider][prefix].length) {\n      loadNewIcons(storage, newIcons[provider][prefix]);\n    }\n  });\n  return callback ? storeCallback(callback, sortedIcons, sources) : emptyCallback;\n};\nconst loadIcon = (icon) => {\n  return new Promise((fulfill, reject) => {\n    const iconObj = typeof icon === \"string\" ? stringToIcon(icon) : icon;\n    loadIcons([iconObj || icon], (loaded) => {\n      if (loaded.length && iconObj) {\n        const data = getIconData(iconObj);\n        if (data) {\n          fulfill({\n            ...defaultIconProps,\n            ...data\n          });\n          return;\n        }\n      }\n      reject(icon);\n    });\n  });\n};\n\nfunction toggleBrowserCache(storage, value) {\n  switch (storage) {\n    case \"local\":\n    case \"session\":\n      browserStorageConfig[storage] = value;\n      break;\n    case \"all\":\n      for (const key in browserStorageConfig) {\n        browserStorageConfig[key] = value;\n      }\n      break;\n  }\n}\n\nfunction mergeCustomisations(defaults, item) {\n  const result = {\n    ...defaults\n  };\n  for (const key in item) {\n    const value = item[key];\n    const valueType = typeof value;\n    if (key in defaultIconSizeCustomisations) {\n      if (value === null || value && (valueType === \"string\" || valueType === \"number\")) {\n        result[key] = value;\n      }\n    } else if (valueType === typeof result[key]) {\n      result[key] = key === \"rotate\" ? value % 4 : value;\n    }\n  }\n  return result;\n}\n\nconst separator = /[\\s,]+/;\nfunction flipFromString(custom, flip) {\n  flip.split(separator).forEach((str) => {\n    const value = str.trim();\n    switch (value) {\n      case \"horizontal\":\n        custom.hFlip = true;\n        break;\n      case \"vertical\":\n        custom.vFlip = true;\n        break;\n    }\n  });\n}\n\nfunction rotateFromString(value, defaultValue = 0) {\n  const units = value.replace(/^-?[0-9.]*/, \"\");\n  function cleanup(value2) {\n    while (value2 < 0) {\n      value2 += 4;\n    }\n    return value2 % 4;\n  }\n  if (units === \"\") {\n    const num = parseInt(value);\n    return isNaN(num) ? 0 : cleanup(num);\n  } else if (units !== value) {\n    let split = 0;\n    switch (units) {\n      case \"%\":\n        split = 25;\n        break;\n      case \"deg\":\n        split = 90;\n    }\n    if (split) {\n      let num = parseFloat(value.slice(0, value.length - units.length));\n      if (isNaN(num)) {\n        return 0;\n      }\n      num = num / split;\n      return num % 1 === 0 ? cleanup(num) : 0;\n    }\n  }\n  return defaultValue;\n}\n\nfunction iconToHTML(body, attributes) {\n  let renderAttribsHTML = body.indexOf(\"xlink:\") === -1 ? \"\" : ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"';\n  for (const attr in attributes) {\n    renderAttribsHTML += \" \" + attr + '=\"' + attributes[attr] + '\"';\n  }\n  return '<svg xmlns=\"http://www.w3.org/2000/svg\"' + renderAttribsHTML + \">\" + body + \"</svg>\";\n}\n\nfunction encodeSVGforURL(svg) {\n  return svg.replace(/\"/g, \"'\").replace(/%/g, \"%25\").replace(/#/g, \"%23\").replace(/</g, \"%3C\").replace(/>/g, \"%3E\").replace(/\\s+/g, \" \");\n}\nfunction svgToURL(svg) {\n  return 'url(\"data:image/svg+xml,' + encodeSVGforURL(svg) + '\")';\n}\n\nconst defaultExtendedIconCustomisations = {\n    ...defaultIconCustomisations,\n    inline: false,\n};\n\n/**\n * Default SVG attributes\n */\nconst svgDefaults = {\n    'xmlns': 'http://www.w3.org/2000/svg',\n    'xmlnsXlink': 'http://www.w3.org/1999/xlink',\n    'aria-hidden': true,\n    'role': 'img',\n};\n/**\n * Style modes\n */\nconst commonProps = {\n    display: 'inline-block',\n};\nconst monotoneProps = {\n    backgroundColor: 'currentColor',\n};\nconst coloredProps = {\n    backgroundColor: 'transparent',\n};\n// Dynamically add common props to variables above\nconst propsToAdd = {\n    Image: 'var(--svg)',\n    Repeat: 'no-repeat',\n    Size: '100% 100%',\n};\nconst propsToAddTo = {\n    webkitMask: monotoneProps,\n    mask: monotoneProps,\n    background: coloredProps,\n};\nfor (const prefix in propsToAddTo) {\n    const list = propsToAddTo[prefix];\n    for (const prop in propsToAdd) {\n        list[prefix + prop] = propsToAdd[prop];\n    }\n}\n/**\n * Default values for customisations for inline icon\n */\nconst inlineDefaults = {\n    ...defaultExtendedIconCustomisations,\n    inline: true,\n};\n/**\n * Fix size: add 'px' to numbers\n */\nfunction fixSize(value) {\n    return value + (value.match(/^[-0-9.]+$/) ? 'px' : '');\n}\n/**\n * Render icon\n */\nconst render = (\n// Icon must be validated before calling this function\nicon, \n// Partial properties\nprops, \n// True if icon should have vertical-align added\ninline, \n// Optional reference for SVG/SPAN, extracted by React.forwardRef()\nref) => {\n    // Get default properties\n    const defaultProps = inline\n        ? inlineDefaults\n        : defaultExtendedIconCustomisations;\n    // Get all customisations\n    const customisations = mergeCustomisations(defaultProps, props);\n    // Check mode\n    const mode = props.mode || 'svg';\n    // Create style\n    const style = {};\n    const customStyle = props.style || {};\n    // Create SVG component properties\n    const componentProps = {\n        ...(mode === 'svg' ? svgDefaults : {}),\n        ref,\n    };\n    // Get element properties\n    for (let key in props) {\n        const value = props[key];\n        if (value === void 0) {\n            continue;\n        }\n        switch (key) {\n            // Properties to ignore\n            case 'icon':\n            case 'style':\n            case 'children':\n            case 'onLoad':\n            case 'mode':\n            case '_ref':\n            case '_inline':\n                break;\n            // Boolean attributes\n            case 'inline':\n            case 'hFlip':\n            case 'vFlip':\n                customisations[key] =\n                    value === true || value === 'true' || value === 1;\n                break;\n            // Flip as string: 'horizontal,vertical'\n            case 'flip':\n                if (typeof value === 'string') {\n                    flipFromString(customisations, value);\n                }\n                break;\n            // Color: copy to style\n            case 'color':\n                style.color = value;\n                break;\n            // Rotation as string\n            case 'rotate':\n                if (typeof value === 'string') {\n                    customisations[key] = rotateFromString(value);\n                }\n                else if (typeof value === 'number') {\n                    customisations[key] = value;\n                }\n                break;\n            // Remove aria-hidden\n            case 'ariaHidden':\n            case 'aria-hidden':\n                if (value !== true && value !== 'true') {\n                    delete componentProps['aria-hidden'];\n                }\n                break;\n            // Copy missing property if it does not exist in customisations\n            default:\n                if (defaultProps[key] === void 0) {\n                    componentProps[key] = value;\n                }\n        }\n    }\n    // Generate icon\n    const item = iconToSVG(icon, customisations);\n    const renderAttribs = item.attributes;\n    // Inline display\n    if (customisations.inline) {\n        style.verticalAlign = '-0.125em';\n    }\n    if (mode === 'svg') {\n        // Add style\n        componentProps.style = {\n            ...style,\n            ...customStyle,\n        };\n        // Add icon stuff\n        Object.assign(componentProps, renderAttribs);\n        // Counter for ids based on \"id\" property to render icons consistently on server and client\n        let localCounter = 0;\n        let id = props.id;\n        if (typeof id === 'string') {\n            // Convert '-' to '_' to avoid errors in animations\n            id = id.replace(/-/g, '_');\n        }\n        // Add icon stuff\n        componentProps.dangerouslySetInnerHTML = {\n            __html: replaceIDs(item.body, id ? () => id + 'ID' + localCounter++ : 'iconifyReact'),\n        };\n        return React.createElement('svg', componentProps);\n    }\n    // Render <span> with style\n    const { body, width, height } = icon;\n    const useMask = mode === 'mask' ||\n        (mode === 'bg' ? false : body.indexOf('currentColor') !== -1);\n    // Generate SVG\n    const html = iconToHTML(body, {\n        ...renderAttribs,\n        width: width + '',\n        height: height + '',\n    });\n    // Generate style\n    componentProps.style = {\n        ...style,\n        '--svg': svgToURL(html),\n        'width': fixSize(renderAttribs.width),\n        'height': fixSize(renderAttribs.height),\n        ...commonProps,\n        ...(useMask ? monotoneProps : coloredProps),\n        ...customStyle,\n    };\n    return React.createElement('span', componentProps);\n};\n\n/**\n * Enable cache\n */\nfunction enableCache(storage) {\n    toggleBrowserCache(storage, true);\n}\n/**\n * Disable cache\n */\nfunction disableCache(storage) {\n    toggleBrowserCache(storage, false);\n}\n/**\n * Initialise stuff\n */\n// Enable short names\nallowSimpleNames(true);\n// Set API module\nsetAPIModule('', fetchAPIModule);\n/**\n * Browser stuff\n */\nif (typeof document !== 'undefined' && typeof window !== 'undefined') {\n    // Set cache and load existing cache\n    initBrowserStorage();\n    const _window = window;\n    // Load icons from global \"IconifyPreload\"\n    if (_window.IconifyPreload !== void 0) {\n        const preload = _window.IconifyPreload;\n        const err = 'Invalid IconifyPreload syntax.';\n        if (typeof preload === 'object' && preload !== null) {\n            (preload instanceof Array ? preload : [preload]).forEach((item) => {\n                try {\n                    if (\n                    // Check if item is an object and not null/array\n                    typeof item !== 'object' ||\n                        item === null ||\n                        item instanceof Array ||\n                        // Check for 'icons' and 'prefix'\n                        typeof item.icons !== 'object' ||\n                        typeof item.prefix !== 'string' ||\n                        // Add icon set\n                        !addCollection(item)) {\n                        console.error(err);\n                    }\n                }\n                catch (e) {\n                    console.error(err);\n                }\n            });\n        }\n    }\n    // Set API from global \"IconifyProviders\"\n    if (_window.IconifyProviders !== void 0) {\n        const providers = _window.IconifyProviders;\n        if (typeof providers === 'object' && providers !== null) {\n            for (let key in providers) {\n                const err = 'IconifyProviders[' + key + '] is invalid.';\n                try {\n                    const value = providers[key];\n                    if (typeof value !== 'object' ||\n                        !value ||\n                        value.resources === void 0) {\n                        continue;\n                    }\n                    if (!addAPIProvider(key, value)) {\n                        console.error(err);\n                    }\n                }\n                catch (e) {\n                    console.error(err);\n                }\n            }\n        }\n    }\n}\nclass IconComponent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            // Render placeholder before component is mounted\n            icon: null,\n        };\n    }\n    /**\n     * Abort loading icon\n     */\n    _abortLoading() {\n        if (this._loading) {\n            this._loading.abort();\n            this._loading = null;\n        }\n    }\n    /**\n     * Update state\n     */\n    _setData(icon) {\n        if (this.state.icon !== icon) {\n            this.setState({\n                icon,\n            });\n        }\n    }\n    /**\n     * Check if icon should be loaded\n     */\n    _checkIcon(changed) {\n        const state = this.state;\n        const icon = this.props.icon;\n        // Icon is an object\n        if (typeof icon === 'object' &&\n            icon !== null &&\n            typeof icon.body === 'string') {\n            // Stop loading\n            this._icon = '';\n            this._abortLoading();\n            if (changed || state.icon === null) {\n                // Set data if it was changed\n                this._setData({\n                    data: icon,\n                });\n            }\n            return;\n        }\n        // Invalid icon?\n        let iconName;\n        if (typeof icon !== 'string' ||\n            (iconName = stringToIcon(icon, false, true)) === null) {\n            this._abortLoading();\n            this._setData(null);\n            return;\n        }\n        // Load icon\n        const data = getIconData(iconName);\n        if (!data) {\n            // Icon data is not available\n            if (!this._loading || this._loading.name !== icon) {\n                // New icon to load\n                this._abortLoading();\n                this._icon = '';\n                this._setData(null);\n                if (data !== null) {\n                    // Icon was not loaded\n                    this._loading = {\n                        name: icon,\n                        abort: loadIcons([iconName], this._checkIcon.bind(this, false)),\n                    };\n                }\n            }\n            return;\n        }\n        // Icon data is available\n        if (this._icon !== icon || state.icon === null) {\n            // New icon or icon has been loaded\n            this._abortLoading();\n            this._icon = icon;\n            // Add classes\n            const classes = ['iconify'];\n            if (iconName.prefix !== '') {\n                classes.push('iconify--' + iconName.prefix);\n            }\n            if (iconName.provider !== '') {\n                classes.push('iconify--' + iconName.provider);\n            }\n            // Set data\n            this._setData({\n                data,\n                classes,\n            });\n            if (this.props.onLoad) {\n                this.props.onLoad(icon);\n            }\n        }\n    }\n    /**\n     * Component mounted\n     */\n    componentDidMount() {\n        this._checkIcon(false);\n    }\n    /**\n     * Component updated\n     */\n    componentDidUpdate(oldProps) {\n        if (oldProps.icon !== this.props.icon) {\n            this._checkIcon(true);\n        }\n    }\n    /**\n     * Abort loading\n     */\n    componentWillUnmount() {\n        this._abortLoading();\n    }\n    /**\n     * Render\n     */\n    render() {\n        const props = this.props;\n        const icon = this.state.icon;\n        if (icon === null) {\n            // Render placeholder\n            return props.children\n                ? props.children\n                : React.createElement('span', {});\n        }\n        // Add classes\n        let newProps = props;\n        if (icon.classes) {\n            newProps = {\n                ...props,\n                className: (typeof props.className === 'string'\n                    ? props.className + ' '\n                    : '') + icon.classes.join(' '),\n            };\n        }\n        // Render icon\n        return render({\n            ...defaultIconProps,\n            ...icon.data,\n        }, newProps, props._inline, props._ref);\n    }\n}\n/**\n * Block icon\n *\n * @param props - Component properties\n */\nconst Icon = React.forwardRef(function Icon(props, ref) {\n    const newProps = {\n        ...props,\n        _ref: ref,\n        _inline: false,\n    };\n    return React.createElement(IconComponent, newProps);\n});\n/**\n * Inline icon (has negative verticalAlign that makes it behave like icon font)\n *\n * @param props - Component properties\n */\nconst InlineIcon = React.forwardRef(function InlineIcon(props, ref) {\n    const newProps = { ...props, _ref: ref, _inline: true };\n    return React.createElement(IconComponent, newProps);\n});\n/**\n * Internal API\n */\nconst _api = {\n    getAPIConfig,\n    setAPIModule,\n    sendAPIQuery,\n    setFetch,\n    getFetch,\n    listAPIProviders,\n};\n\nexport { Icon, InlineIcon, _api, addAPIProvider, addCollection, addIcon, iconToSVG as buildIcon, calculateSize, disableCache, enableCache, getIcon, iconExists, listIcons, loadIcon, loadIcons, replaceIDs };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}